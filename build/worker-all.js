(function e$$0(H,J,p){function x(n,E){if(!J[n]){if(!H[n]){var z="function"==typeof require&&require;if(!E&&z)return z(n,!0);if(A)return A(n,!0);throw Error("Cannot find module '"+n+"'");}z=J[n]={exports:{}};H[n][0].call(z.exports,function(f){var a=H[n][1][f];return x(a?a:f)},z,z.exports,e$$0,H,J,p)}return J[n].exports}for(var A="function"==typeof require&&require,n=0;n<p.length;n++)x(p[n]);return x})({1:[function(y,H,J){function p(){}function x(d,b,r){var v=new p;v.data=d;v.bai=b;v.bai.fetch(function(d){if(!d)return r(null,
"Couldn't access BAI");var b=new Uint8Array(d),M=n(b,0);if(M!=h)return r(null,"Not a BAI file, magic=0x"+M.toString(16));M=n(b,4);v.indices=[];for(var u=8,F=1E9,c=0;c<M;++c){for(var m=u,e=n(b,u),u=u+4,s=0;s<e;++s){n(b,u);var g=n(b,u+4),u=u+(8+16*g)}for(var s=n(b,u),C=u+=4,l=0;l<s;++l)if(g=f(b,C),C+=8,g){C=g.block;0<g.offset&&(C+=65536);C<F&&(F=C);break}u+=8*s;0<e&&(v.indices[c]=new Uint8Array(d,m,u-m))}v.data.slice(0,F).fetch(function(c){if(!c)return r(null,"Couldn't access BAM");c=a(c,c.byteLength);
c=new Uint8Array(c);var m=n(c,0);if(m!=k)return r(null,"Not a BAM file, magic=0x"+m.toString(16));for(var e=n(c,4),s="",m=0;m<e;++m)s+=String.fromCharCode(c[m+8]);s=n(c,e+8);e+=12;v.chrToIndex={};v.indexToChr=[];for(m=0;m<s;++m){for(var g=n(c,e),l="",C=0;C<g-1;++C)l+=String.fromCharCode(c[e+4+C]);n(c,e+g+4);v.chrToIndex[l]=m;0==l.indexOf("chr")?v.chrToIndex[l.substring(3)]=m:v.chrToIndex["chr"+l]=m;v.indexToChr.push(l);e=e+8+g}if(v.indices)return r(v)})})}function A(){}if("undefined"!==typeof y){y("./spans");
J=y("./bin");var n=J.readInt,G=J.readShort,E=J.readByte,z=J.readFloat;y=y("./lh3utils");var f=y.readVob,a=y.unbgzf,b=y.reg2bins,d=y.Chunk}var k=21840194,h=21578050;y={MULTIPLE_SEGMENTS:1,ALL_SEGMENTS_ALIGN:2,SEGMENT_UNMAPPED:4,NEXT_SEGMENT_UNMAPPED:8,REVERSE_COMPLEMENT:16,NEXT_REVERSE_COMPLEMENT:32,FIRST_SEGMENT:64,LAST_SEGMENT:128,SECONDARY_ALIGNMENT:256,QC_FAIL:512,DUPLICATE:1024,SUPPLEMENTARY:2048};p.prototype.blocksForRange=function(a,r,h){var v=this.indices[a];if(!v)return[];a=b(r,h);for(var k=
[],t=0;t<a.length;++t)k[a[t]]=!0;a=[];for(var B=[],t=n(v,0),u=4,F=0;F<t;++F){var c=n(v,u),m=n(v,u+4),u=u+8;if(k[c])for(var e=0;e<m;++e){var s=f(v,u),g=f(v,u+8);(4681>c?B:a).push(new d(s,g));u+=16}else u+=16*m}t=n(v,u);k=null;r=Math.min(r>>14,t-1);h=Math.min(h>>14,t-1);for(t=r;t<=h;++t)(r=f(v,u+4+8*t))&&(!k||r.block<k.block||r.offset<k.offset)&&(k=r);v=[];if(null!=k)for(t=0;t<B.length;++t)h=B[t],h.maxv.block>=k.block&&h.maxv.offset>=k.offset&&v.push(h);B=v;v=[];for(t=0;t<B.length;++t)v.push(B[t]);
for(t=0;t<a.length;++t)v.push(a[t]);v.sort(function(c,m){var e=c.minv.block-m.minv.block;return 0!=e?e:c.minv.offset-m.minv.offset});a=[];if(0<v.length){B=v[0];for(t=1;t<v.length;++t)h=v[t],h.minv.block==B.maxv.block?B=new d(B.minv,h.maxv):(a.push(B),B=h);a.push(B)}return a};p.prototype.fetch=function(d,b,r,h,k){function f(){if(m>=F.length)return h(c);if(e){var s=new Uint8Array(e),s=B.readBamRecords(s,F[m].minv.offset,c,b,r,u,k);e=null;++m;return s?h(c):f()}var g=F[m],s=g.minv.block;B.data.slice(s,
g.maxv.block+65536-s).fetch(function(c){e=a(c,g.maxv.block-g.minv.block+1);return f()})}var B=this;k=k||{};var u=this.chrToIndex[d],F;void 0===u?F=[]:(F=this.blocksForRange(u,b,r))||h(null,"Error in index fetch");var c=[],m=0,e;f()};var r="=ACxGxxxTxxxxxxN".split(""),B="MIDNSHP=X???????".split("");p.prototype.readBamRecords=function(d,a,b,h,k,f,p){for(;;){var u=n(d,a),u=a+u+4;if(u>=d.length)return b;var F=new A,c=n(d,a+4),m=n(d,a+8),e=n(d,a+12),s=(e&65280)>>8,g=e&255,e=n(d,a+16),C=(e&4294901760)>>
16,l=e&65535,e=n(d,a+20),q=n(d,a+24),K=n(d,a+28);n(d,a+32);F.segment=this.indexToChr[c];F.flag=C;F.pos=m;F.mq=s;p.light&&(F.seqLength=e);if(!p.light){0<=q&&(F.nextSegment=this.indexToChr[q],F.nextPos=K);s="";for(m=0;m<g-1;++m)s+=String.fromCharCode(d[a+36+m]);F.readName=s;a=a+36+g;g="";for(m=0;m<l;++m)s=n(d,a),g=g+(s>>4)+B[s&15],a+=4;F.cigar=g;l="";g=e+1>>1;for(m=0;m<g;++m)s=d[a+m],l+=r[(s&240)>>4],l+=r[s&15];a+=g;F.seq=l;l="";for(m=0;m<e;++m)l+=String.fromCharCode(d[a+m]+33);a+=e;for(F.quals=l;a<
u;){l=String.fromCharCode(d[a],d[a+1]);g=String.fromCharCode(d[a+2]);if("A"==g)g=String.fromCharCode(d[a+3]),a+=4;else if("i"==g||"I"==g)g=n(d,a+3),a+=7;else if("c"==g||"C"==g)g=d[a+3],a+=4;else if("s"==g||"S"==g)g=G(d,a+3),a+=5;else if("f"==g)g=z(d,a+3),a+=7;else if("Z"==g||"H"==g)for(a+=3,g="";m=d[a++],0!=m;)g+=String.fromCharCode(m);else if("B"==g){g=String.fromCharCode(d[a+3]);m=n(d,a+4);if("i"==g||"I"==g||"f"==g)s=4,C="f"==g?z:n;else if("s"==g||"S"==g)s=2,C=G;else if("c"==g||"C"==g)s=1,C=E;else throw"Unknown array type "+
g;a+=8;g=[];for(q=0;q<m;++q)g.push(C(d,a)),a+=s}else throw"Unknown type "+g;F[l]=g}}if(!h||F.pos<=k&&F.pos+e>=h)void 0!==f&&c!=f||b.push(F);if(F.pos>k)return!0;a=u}};"undefined"!==typeof H&&(H.exports={makeBam:x,BAM_MAGIC:k,BAI_MAGIC:h,BamFlags:y})},{"./bin":3,"./lh3utils":7,"./spans":9}],2:[function(y,H,J){function p(a,c){return a[c]+a[c+1]*v+a[c+2]*I+a[c+3]*t+a[c+4]*N}function x(){}function A(a,c,m,e){this.bwg=a;this.cirTreeOffset=c;this.cirTreeLength=m;this.isSummary=e}function n(a,c,m){var e=
new x;e.data=a;e.name=m;e.data.slice(0,512).salted().fetch(function(m){if(!m)return c(null,"Couldn't fetch file");var g=new Uint8Array(m),a=new Int16Array(m);m=new Int32Array(m);var l=g[0]+v*g[1]+I*g[2]+t*g[3];l==B?e.type="bigwig":l==M?e.type="bigbed":l==O||l==P?c(null,"Currently don't support big-endian BBI files"):c(null,"Not a supported format, magic=0x"+l.toString(16));e.version=a[2];e.numZoomLevels=a[3];e.chromTreeOffset=p(g,8);e.unzoomedDataOffset=p(g,16);e.unzoomedIndexOffset=p(g,24);e.fieldCount=
a[16];e.definedFieldCount=a[17];e.asOffset=p(g,36);e.totalSummaryOffset=p(g,44);e.uncompressBufSize=m[13];e.extHeaderOffset=p(g,56);e.zoomLevels=[];for(a=0;a<e.numZoomLevels;++a){var l=m[6*a+16],q=p(g,24*a+72),d=p(g,24*a+80);e.zoomLevels.push({reduction:l,dataOffset:q,indexOffset:d})}e.readChromTree(function(){e.getAutoSQL(function(m){e.schema=m;return c(e)})})})}function G(a,c,m,e,s){this.bbi=a;this.type=c;this.fieldCount=m;this.offset=e;this.field=s}if("undefined"!==typeof y){J=y("./spans");var E=
J.Range,z=J.union,f=J.intersection;J=y("./das");var a=J.DASFeature,b=J.DASGroup,d=y("./utils").shallowCopy,k=y("./bin").readInt;y=y("jszlib");var h=y.inflateBuffer,r=y.arrayCopy}var B=2291137574,O=654086024,M=2273964779,P=3958540679,v=256,I=65536,t=16777216,N=4294967296,u=/^[0-9]+,[0-9]+,[0-9]+/;x.prototype.readChromTree=function(a){var c=this;this.chromsToIDs={};this.idsToChroms={};this.maxID=0;var m=this.unzoomedDataOffset,m=m+4-(m-this.chromTreeOffset&3);this.data.slice(this.chromTreeOffset,m-
this.chromTreeOffset).fetch(function(m){var s=new Uint8Array(m),g=new Int16Array(m),d=(new Int32Array(m))[2];p(s,16);var l=function(m){var e=s[m],a=g[m/2+1];m+=4;for(var F=0;F<a;++F)if(0==e){m+=d;var b=p(s,m);m+=8;b-=c.chromTreeOffset;l(b)}else{for(var b="",w=0;w<d;++w){var h=s[m++];0!=h&&(b+=String.fromCharCode(h))}w=s[m+3]<<24|s[m+2]<<16|s[m+1]<<8|s[m+0];m+=8;c.chromsToIDs[b]=w;0==b.indexOf("chr")&&(c.chromsToIDs[b.substr(3)]=w);c.idsToChroms[w]=b;c.maxID=Math.max(c.maxID,w)}};l(32);a(c)})};A.prototype.readWigData=
function(a,c,m,e){a=this.bwg.chromsToIDs[a];if(void 0===a)return e([]);this.readWigDataById(a,c,m,e)};A.prototype.readWigDataById=function(a,c,m,e){var s=this;if(this.cirHeader){var g=[],d=0;Date.now();var l=function(e,s,g,l){return(0>a||e==a)&&s<=m&&g>=c},q=function(c,m){s.bwg.instrument&&console.log("level="+m+"; offset="+c+"; time="+(Date.now()|0));d+=c.length;if(1==c.length&&48==c[0]-s.cirTreeOffset&&s.cachedCirRoot)L(s.cachedCirRoot,0,m),--d,0==d&&s.fetchFeatures(l,g,e);else{for(var a=4+32*s.cirBlockSize,
q,F=0;F<c.length;++F){var h=new E(c[F],c[F]+a);q=q?z(q,h):h}a=q.ranges();for(q=0;q<a.length;++q)b(c,a[q],m)}},b=function(c,m,a,q){m.max();m.min();s.bwg.data.slice(m.min(),m.max()-m.min()).fetch(function(q){for(var b=0;b<c.length;++b)m.contains(c[b])&&(L(q,c[b]-m.min(),a),48==c[b]-s.cirTreeOffset&&0==c[b]-m.min()&&(s.cachedCirRoot=q),--d,0==d&&s.fetchFeatures(l,g,e))})},L=function(e,s,l){var d=new Uint8Array(e),b=new Int16Array(e);e=new Int32Array(e);var C=d[s],b=b[s/2+1];s+=4;if(0!=C)for(C=0;C<b;++C){var L=
s/4,K=e[L],h=e[L+1],r=e[L+2],L=e[L+3],u=p(d,s+16);l=p(d,s+24);(0>a||K<a||K==a&&h<=m)&&(0>a||r>a||r==a&&L>=c)&&g.push({offset:u,size:l});s+=32}else{for(var v=[],C=0;C<b;++C)L=s/4,K=e[L],h=e[L+1],r=e[L+2],L=e[L+3],u=p(d,s+16),(0>a||K<a||K==a&&h<=m)&&(0>a||r>a||r==a&&L>=c)&&v.push(u),s+=24;0<v.length&&q(v,l+1)}};q([s.cirTreeOffset+48],1)}else this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(g){s.cirHeader=g;g=new Int32Array(s.cirHeader);s.cirBlockSize=g[1];s.readWigDataById(a,c,m,e)})};A.prototype.fetchFeatures=
function(d,c,m){var e=this;c.sort(function(c,m){return(c.offset|0)-(m.offset|0)});if(0==c.length)m([]);else{var s=[],g=function(c,m,g,d){d||(d={});var b=new a;b._chromId=c;b.segment=e.bwg.idsToChroms[c];b.min=m;b.max=g;b.type="bigwig";for(var C in d)b[C]=d[C];s.push(b)},b=function(){if(0==c.length)Date.now(),m(s);else{var a=c[0];if(a.data)e.parseFeatures(a.data,g,d),c.splice(0,1),b();else{for(var q=a.offset,K=a.size,a=1;a<c.length&&c[a].offset==q+K;)K+=c[a].size,++a;e.bwg.data.slice(q,K).fetch(function(m){for(var s=
0,a=0;s<K;){var g=c[a],l;0<e.bwg.uncompressBufSize?l=h(m,s+2,g.size-2):(l=new Uint8Array(g.size),r(new Uint8Array(m,s,g.size),0,l,0,g.size),l=l.buffer);g.data=l;s+=g.size;++a}b()})}}};b()}};A.prototype.parseFeatures=function(a,c,m){var e=new Uint8Array(a);if(this.isSummary)for(var s=new Int16Array(a),g=new Int32Array(a),C=new Float32Array(a),e=a.byteLength/32,s=0;s<e;++s){a=g[8*s];var l=g[8*s+1],q=g[8*s+2],K=g[8*s+3],L=C[8*s+5],h=C[8*s+6];m(a,l+1,q)&&(K={type:"bigwig",score:h/K,maxScore:L},"bigbed"==
this.bwg.type&&(K.type="density"),c(a,l+1,q,K))}else if("bigwig"==this.bwg.type)if(s=new Int16Array(a),g=new Int32Array(a),C=new Float32Array(a),a=g[0],L=g[1],h=g[3],K=g[4],l=e[20],e=s[11],3==l)for(s=0;s<e;++s){var r=C[s+6],g=L+s*h+1,l=L+s*h+K;m(a,g,l)&&c(a,g,l,{score:r})}else if(2==l)for(s=0;s<e;++s)l=g[2*s+6]+1,q=l+K-1,r=C[2*s+7],m(a,l,q)&&c(a,l,q,{score:r});else if(1==l)for(s=0;s<e;++s)l=g[3*s+6]+1,q=g[3*s+7],r=C[3*s+8],l>q&&(l=q),m(a,l,q)&&c(a,l,q,{score:r});else console.log("Currently not handling bwgType="+
l);else if("bigbed"==this.bwg.type)for(s=0,K=this.bwg.definedFieldCount,L=this.bwg.schema;s<e.length;){a=e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s+0];l=e[s+7]<<24|e[s+6]<<16|e[s+5]<<8|e[s+4];q=e[s+11]<<24|e[s+10]<<16|e[s+9]<<8|e[s+8];s+=12;for(r="";;)if(h=e[s++],0!=h)r+=String.fromCharCode(h);else break;var h={},w;w=0<r.length?r.split("\t"):[];0<w.length&&3<K&&(h.label=w[0]);1<w.length&&4<K&&(r=parseInt(w[1]),isNaN(r)||(h.score=r));2<w.length&&5<K&&(h.orientation=w[2]);5<w.length&&8<K&&(r=w[5],u.test(r)&&
(h.itemRgb="rgb("+r+")"));if(w.length>K-3&&L)for(r=K-3;r<w.length;++r)h[L.fields[r+3].name]=w[r];if(m(a,l+1,q,w))if(12>K)c(a,l+1,q,h);else{var r=w[3]|0,v=w[4]|0,k=w[6]|0,t=w[7].split(","),B=w[8].split(",");h.exonFrames&&(C=h.exonFrames.split(","),h.exonFrames=void 0);h.type="transcript";var p=new b;for(g in h)p[g]=h[g];p.id=w[0];p.segment=this.bwg.idsToChroms[a];p.min=l+1;p.max=q;p.notes=[];h.groups=[p];if(9<w.length){var I=q=h.geneName||w[9];10<w.length&&(I=w[10]);h.geneName2&&(I=h.geneName2);w=
d(p);w.id=q;w.label=I;w.type="gene";h.groups.push(w)}q=[];for(w=0;w<k;++w)p=(B[w]|0)+l,p=new E(p,p+(t[w]|0)),q.push(p);t=z(q);k=t.ranges();for(l=0;l<k.length;++l)q=k[l],c(a,q.min()+1,q.max(),h);if(v>r&&(l="+"==h.orientation?new E(r,v+3):new E(r-3,v),l=f(t,l))){h.type="translation";r=l.ranges();for(t=v=0;r[0].min()>k[t].max();)t++;for(l=0;l<r.length;++l)k=l,"-"==h.orientation&&(k=r.length-l-1),q=r[k],h.readframe=v,C&&(k=parseInt(C[k+t]),"number"===typeof k&&0<=k&&2>=k&&(h.readframe=k,h.readframeExplicit=
!0)),k=q.max()-q.min(),v=(v+k)%3,c(a,q.min()+1,q.max(),h)}}}else throw Error("Don't know what to do with "+this.bwg.type);};A.prototype.getFirstAdjacent=function(a,c,m,e){a=this.bwg.chromsToIDs[a];if(void 0===a)return e([]);this.getFirstAdjacentById(a,c,m,e)};A.prototype.getFirstAdjacentById=function(a,c,m,e){var s=this;if(this.cirHeader){var g=null,d=-1,l=-1,b=0;Date.now();var h=function(c,m){b+=c.length;for(var e=4+32*s.cirBlockSize,a,g=0;g<c.length;++g){var l=new E(c[g],c[g]+e);a=a?z(a,l):l}e=
a.ranges();for(a=0;a<e.length;++a)r(c,e[a],m)},r=function(l,d,h,C){d.max();d.min();s.bwg.data.slice(d.min(),d.max()-d.min()).fetch(function(C){for(var r=0;r<l.length;++r)if(d.contains(l[r])&&(v(C,l[r]-d.min(),h),--b,0==b)){if(!g)return 0<m&&(0!=a||0<c)?s.getFirstAdjacentById(0,0,m,e):0>m&&(a!=s.bwg.maxID||1E9>c)?s.getFirstAdjacentById(s.bwg.maxID,1E9,m,e):e([]);s.fetchFeatures(function(e,s,g,l){return 0>m&&(e<a||g<c)||0<m&&(e>a||s>c)},[g],function(c){for(var a=null,s=-1,g=-1,l=0;l<c.length;++l){var d=
c[l],b=d._chromId,q=d.min,h=d.max;if(null==a||0>m&&(b>s||h>g)||0<m&&(b<s||q<g))a=d,g=0>m?h:q,s=b}return null!=a?e([a]):e([])})}})},v=function(e,b,q){var r=new Uint8Array(e),L=new Int16Array(e);e=new Int32Array(e);var v=r[b],L=L[b/2+1];b+=4;if(0!=v)for(v=0;v<L;++v){var u=b/4,k=e[u],f=e[u+1],t=e[u+2],B=e[u+3],u=p(r,b+16);q=p(r,b+24);(0>m&&(k<a||k==a&&f<=c)||0<m&&(t>a||t==a&&B>=c))&&!/_random/.exec(s.bwg.idsToChroms[k])&&(null==g||0>m&&(t>d||t==d&&B>l)||0<m&&(k<d||k==d&&f<l))&&(g={offset:u,size:q},l=
0>m?B:f,d=0>m?t:k);b+=32}else{for(var Q=r=-1,v=0;v<L;++v){u=b/4;k=e[u];f=e[u+1];t=e[u+2];B=e[u+3];u=e[u+4]<<32|e[u+5];if(0>m&&(k<a||k==a&&f<=c)&&t>=a||0<m&&(t>a||t==a&&B>=c)&&k<=a)if(0>r||B>Q)r=u,Q=0>m?B:f;b+=24}0<=r&&h([r],q+1)}};h([s.cirTreeOffset+48],1)}else this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(g){s.cirHeader=g;g=new Int32Array(s.cirHeader);s.cirBlockSize=g[1];s.getFirstAdjacentById(a,c,m,e)})};x.prototype.readWigData=function(a,c,m,e){this.getUnzoomedView().readWigData(a,
c,m,e)};x.prototype.getUnzoomedView=function(){if(!this.unzoomedView){var a=4E3;this.zoomLevels[0]&&(a=this.zoomLevels[0].dataOffset-this.unzoomedIndexOffset);this.unzoomedView=new A(this,this.unzoomedIndexOffset,a,!1)}return this.unzoomedView};x.prototype.getZoomedView=function(a){a=this.zoomLevels[a];a.view||(a.view=new A(this,a.indexOffset,4E3,!0));return a.view};x.prototype._tsFetch=function(a,c,m,e,s){var g=this;if(a>=this.zoomLevels.length-1){if(this.topLevelReductionCache){for(var d=[],l=this.topLevelReductionCache,
b=0;b<l.length;++b)l[b]._chromId==c&&d.push(l[b]);return s(d)}this.getZoomedView(this.zoomLevels.length-1).readWigDataById(-1,0,3E8,function(d){g.topLevelReductionCache=d;return g._tsFetch(a,c,m,e,s)})}else return(0>a?this.getUnzoomedView():this.getZoomedView(a)).readWigDataById(c,m,e,s)};x.prototype.thresholdSearch=function(a,c,m,e,s){function g(){if(0==l.length)return s(null);l.sort(function(c,e){var a=c.zoom-e.zoom;if(0!=a)return a;a=c.chrOrd-e.chrOrd;return 0!=a?a:c.min-e.min*m});var a=l.splice(0,
1)[0];d._tsFetch(a.zoom,a.chr,a.min,a.max,function(d){var b=0<m?0:3E8;a.fromRef&&(b=c);for(var h=0;h<d.length;++h){var q=d[h],r;r=void 0!=q.maxScore?q.maxScore:q.score;if(0<m){if(r>e)if(0>a.zoom){if(q.min>b)return s(q)}else q.max>b&&l.push({chr:a.chr,chrOrd:a.chrOrd,zoom:a.zoom-2,min:q.min,max:q.max,fromRef:a.fromRef})}else if(r>e)if(0>a.zoom){if(q.max<b)return s(q)}else q.min<b&&l.push({chr:a.chr,chrOrd:a.chrOrd,zoom:a.zoom-2,min:q.min,max:q.max,fromRef:a.fromRef})}g()})}m=0>m?-1:1;var d=this;a=
this.chromsToIDs[a];for(var l=[{chrOrd:0,chr:a,zoom:d.zoomLevels.length-4,min:0,max:3E8,fromRef:!0}],b=1;b<=this.maxID+1;++b){var h=(a+m*b)%(this.maxID+1);0>h&&(h+=this.maxID+1);l.push({chrOrd:b,chr:h,zoom:d.zoomLevels.length-1,min:0,max:3E8})}g()};x.prototype.getAutoSQL=function(a){if(!this.asOffset)return a(null);this.data.slice(this.asOffset,2048).fetch(function(c){var m=new Uint8Array(c);c="";for(var e=0;e<m.length&&0!=m[e];++e)c+=String.fromCharCode(m[e]);var m=/([\w\[\]]+)\s+(\w+)\s*;\s*("([^"]+)")?\s*/g,
s=/(\w+)\s+(\w+)\s+("([^"]+)")?\s+\(\s*/.exec(c);if(s){e={declType:s[1],name:s[2],comment:s[4],fields:[]};c=c.substring(s[0]);for(s=m.exec(c);null!=s;s=m.exec(c))e.fields.push({type:s[1],name:s[2],comment:s[4]});return a(e)}})};x.prototype.getExtraIndices=function(a){var c=this;if(4>this.version||0==this.extHeaderOffset||"bigbed"!=this.type)return a(null);this.data.slice(this.extHeaderOffset,64).fetch(function(m){if(!m)return a(null,"Couldn't fetch extension header");var e=new Uint8Array(m),s=new Int16Array(m);
new Int32Array(m);var g=s[1];m=p(e,4);if(0==g)return a(null);c.data.slice(m,20*g).fetch(function(m){if(!m)return a(null,"Couldn't fetch index info");var e=new Uint8Array(m),s=new Int16Array(m);new Int32Array(m);m=[];for(var d=0;d<g;++d){var b=s[10*d],h=s[10*d+1],r=p(e,20*d+4),b=new G(c,b,h,r,s[10*d+8]);m.push(b)}a(m)})})};G.prototype.lookup=function(a,c){var m=this;this.bbi.data.slice(this.offset,32).fetch(function(e){function s(e){m.bbi.data.slice(e,4+d*(b+q)).fetch(function(e){var g=new Uint8Array(e),
d=new Uint16Array(e);new Uint32Array(e);d=d[1];e=4;if(0==g[0]){for(var h=null,r=0;r<d;++r){for(var C="",u=0;u<b;++u){var v=g[e++];0!=v&&(C+=String.fromCharCode(v))}u=p(g,e);e+=8;if(0>a.localeCompare(C)&&h){s(h);return}h=u}s(h)}else{for(r=0;r<d;++r){C="";for(u=0;u<b;++u)v=g[e++],0!=v&&(C+=String.fromCharCode(v));if(C==a)return d=p(g,e),g=k(g,e+8),m.bbi.getUnzoomedView().fetchFeatures(function(c,e,s,g){if(g&&g.length>m.field-3)return g[m.field-3]==a},[{offset:d,size:g}],c);e+=q}return c([])}})}var g=
new Uint8Array(e);new Int16Array(e);e=new Int32Array(e);var d=e[1],b=e[2],q=e[3];p(g,16);s(m.offset+32)})};"undefined"!==typeof H&&(H.exports={makeBwg:n,BIG_BED_MAGIC:M,BIG_WIG_MAGIC:B})},{"./bin":3,"./das":5,"./spans":9,"./utils":10,jszlib:11}],3:[function(y,H,J){function p(a){this.blob=a}function x(a,d,b,k){k||("object"===typeof d?(k=d,d=void 0):k={});this.url=a;this.start=d||0;b&&(this.end=b);this.opts=k}function A(a){if(!a)return null;for(var d=new Uint8Array(a.length),b=0;b<d.length;++b)d[b]=
a.charCodeAt(b);return d.buffer}function n(a,d){return a[d+7]<<24|a[d+6]<<16|a[d+5]<<8|a[d+4]}function G(a,d){return a[d+3]<<24|a[d+2]<<16|a[d+1]<<8|a[d]}function E(a,d){return a[d+1]<<8|a[d]}function z(a,d){return a[d]}function f(a,d){return a[d]<<24|a[d+1]<<16|a[d+2]<<8|a[d+3]}if("undefined"!==typeof y)var a=y("./utils").shallowCopy,b=y("./sha1").b64_sha1;p.prototype.slice=function(a,d){var b;b=this.blob.slice?d?this.blob.slice(a,a+d):this.blob.slice(a):d?this.blob.webkitSlice(a,a+d):this.blob.webkitSlice(a);
return new p(b)};p.prototype.salted=function(){return this};p.prototype.fetch="undefined"!==typeof FileReader?function(a){var d=new FileReader;d.onloadend=function(b){a(A(d.result))};d.readAsBinaryString(this.blob)}:function(a){var d=new FileReaderSync;try{var b=d.readAsArrayBuffer(this.blob);a(b)}catch(k){a(null,k)}};x.prototype.slice=function(a,d){if(0>a)throw"Bad slice "+a;var b=this.start,k=this.end,b=b&&a?b+a:a||b;return new x(this.url,b,d&&b?b+d-1:k||d-1,this.opts)};var d=0,k=0<=navigator.userAgent.indexOf("Safari")&&
0>navigator.userAgent.indexOf("Chrome");x.prototype.fetchAsText=function(a){var r=new XMLHttpRequest,f=this.url;if(k||this.opts.salt)f=f+"?salt="+b(""+Date.now()+","+ ++d);r.open("GET",f,!0);if(this.end){if(1E8<this.end-this.start)throw"Monster fetch!";r.setRequestHeader("Range","bytes="+this.start+"-"+this.end)}r.onreadystatechange=function(){if(4==r.readyState)return 200==r.status||206==r.status?a(r.responseText):a(null)};this.opts.credentials&&(r.withCredentials=!0);r.send("")};x.prototype.salted=
function(){var d=a(this.opts);d.salt=!0;return new x(this.url,this.start,this.end,d)};x.prototype.fetch=function(a,r,f){var p=this;r=r||1;if(3<r)return a(null);var n=new XMLHttpRequest,x,v=this.url;if(k||this.opts.salt)v=v+"?salt="+b(""+Date.now()+","+ ++d);n.open("GET",v,!0);n.overrideMimeType("text/plain; charset=x-user-defined");if(this.end){if(1E8<this.end-this.start)throw"Monster fetch!";n.setRequestHeader("Range","bytes="+this.start+"-"+this.end);x=this.end-this.start+1}n.responseType="arraybuffer";
n.onreadystatechange=function(){if(4==n.readyState){if(200==n.status||206==n.status){if(n.response){var d=n.response.byteLength;return!x||x==d||f&&d==f?a(n.response):p.fetch(a,r+1,d)}if(n.mozResponseArrayBuffer)return a(n.mozResponseArrayBuffer);d=n.responseText;return!x||x==d.length||f&&d.length==f?a(A(n.responseText)):p.fetch(a,r+1,d.length)}return p.fetch(a,r+1)}};this.opts.credentials&&(n.withCredentials=!0);n.send("")};(function(a){var d=new ArrayBuffer(8),b=new Uint8Array(d),k=new Float32Array(d);
a.readFloat=function(a,d){b[0]=a[d];b[1]=a[d+1];b[2]=a[d+2];b[3]=a[d+3];return k[0]}})(this);"undefined"!==typeof H&&(H.exports={BlobFetchable:p,URLFetchable:x,readInt:G,readIntBE:f,readInt64:n,readShort:E,readByte:z,readFloat:this.readFloat})},{"./sha1":8,"./utils":10}],4:[function(y,H,J){function p(a,b,d,k){this.red=a|0;this.green=b|0;this.blue=d|0;k&&(this.name=k)}function x(a){a="00"+a.toString(16);return a.substring(a.length-2)}function A(a){var b=E[a];b||((b=z.exec(a))?b=new p("0x"+b[1]|0,"0x"+
b[2]|0,"0x"+b[3]|0,a):(b=f.exec(a))?b=new p(b[1]|0,b[2]|0,b[3]|0,a):(console.log("couldn't handle color: "+a),b=E.black),E[a]=b);return b}function n(a,b,d){for(var k=[],h=0;h<d.length;++h)k.push(A(d[h]));d=[];h=0;a:for(;h<a;++h){for(var r=b[0]+1*h/(a-1)*(b[b.length-1]-b[0]),f=0;f<b.length-1;++f)if(r>=b[f]&&r<=b[f+1]){var r=(r-b[f])/(b[f+1]-b[f]),n=k[f],f=k[f+1],f=(new p(n.red*(1-r)+f.red*r|0,n.green*(1-r)+f.green*r|0,n.blue*(1-r)+f.blue*r|0)).toSvgString();d.push(f);continue a}throw"Bad step";}return d}
function G(a,b,d,k){return k?n(a,[0,0.5,1],[b,d,k]):n(a,[0,1],[b,d])}p.prototype.toSvgString=function(){this.name||(this.name="rgb("+this.red+","+this.green+","+this.blue+")");return this.name};p.prototype.toHexString=function(){return"#"+x(this.red)+x(this.green)+x(this.blue)};var E={red:new p(255,0,0,"red"),green:new p(0,255,0,"green"),blue:new p(0,0,255,"blue"),yellow:new p(255,255,0,"yellow"),white:new p(255,255,255,"white"),black:new p(0,0,0,"black"),gray:new p(180,180,180,"gray"),grey:new p(180,
180,180,"grey"),lightskyblue:new p(135,206,250,"lightskyblue"),lightsalmon:new p(255,160,122,"lightsalmon"),hotpink:new p(255,105,180,"hotpink")},z=/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/,f=/rgb\(([0-9]+),([0-9]+),([0-9]+)\)/;"undefined"!==typeof H&&(H.exports={makeColourSteps:n,makeGradient:G,dasColourForName:A})},{}],5:[function(y,H,J){function p(a,d,c,m){this.name=a;this.start=d;this.end=c;this.description=m}function x(a,d){var c;"string"==typeof a?(this.uri=a,c=d||{}):c=a||{};for(var m in c)"function"!=
typeof c[m]&&(this[m]=c[m]);this.coords||(this.coords=[]);this.props||(this.props={});(this.dasBaseURI=this.uri)&&"/"!=this.dasBaseURI.substr(this.uri.length-1)&&(this.dasBaseURI+="/")}function A(){}function n(a,d){return a.taxon==d.taxon&&a.auth==d.auth&&a.version==d.version}function G(a,d,c,m,e){this.name=a;this.start=d;this.end=c;this.alphabet=m;this.seq=e}function E(){}function z(a){a&&(this.id=a)}function f(a,d){this.desc=a;this.uri=d}function a(a){this.type=a;this.objects={};this.blocks=[]}
function b(){this.styles=[]}function d(){}function k(a,d){d=d||{};this.uri=a;this.opts=d}function h(a,d){var c=a.getElementsByTagName(d);if(0<c.length&&c[0].firstChild){c=c[0];if(1==c.childNodes.length)return c.firstChild.nodeValue;for(var m="",e=0;e<c.childNodes.length;++e)m+=c.childNodes[e].nodeValue;return m}return null}function r(a){for(var d=[],c=a.getElementsByTagName("LINK"),m=0;m<c.length;++m){var e=c[m];e.parentNode==a&&d.push(new f(e.firstChild?e.firstChild.nodeValue:"Unknown",e.getAttribute("href")))}return d}
function B(a){var d=[];a=a.getElementsByTagName("NOTE");for(var c=0;c<a.length;++c)a[c].firstChild&&d.push(a[c].firstChild.nodeValue);return d}function O(a,d,c,m){if(window.XDomainRequest){var e=new XDomainRequest;e.onload=function(){var c=new ActiveXObject("Microsoft.XMLDOM");c.async=!1;c.loadXML(e.responseText);d(c)};e.open("get",a)}else Date.now(),e=new XMLHttpRequest,e.onreadystatechange=function(){4==e.readyState&&(200<=e.status||0==e.status)&&d(e.responseXML,e)},e.open("get",a,!0),c&&(e.withCredentials=
!0),m&&e.setRequestHeader("X-DAS-Authorisation",m),e.overrideMimeType("text/xml"),e.setRequestHeader("Accept","application/xml,*/*");e.send("")}function M(a){a=(""+a).toLowerCase();return"yes"===a||"true"===a}function P(a){if(!a)return!1;a=(""+a).toLowerCase();return"no"!==a||"false"!==a}function v(a){var d=I(a);d.styles=[];for(var c=0;c<a.styles.length;++c){var m=d.styles[c]=I(a.styles[c]);m._methodRE=m._labelRE=m._typeRE=void 0;m.style=I(m.style);m.style.id=void 0;m.style._gradient=void 0}return d}
if("undefined"!==typeof y){J=y("./utils");var I=J.shallowCopy,t=J.pusho,N=y("./color").makeColourSteps}p.prototype.toString=function(){return this.name+":"+this.start+".."+this.end};p.prototype.isBounded=function(){return this.start&&this.end};p.prototype.toDASQuery=function(){var a="segment="+this.name;this.start&&this.end&&(a+=":"+this.start+","+this.end);return a};x.prototype.entryPoints=function(a){this.doCrossDomainRequest(this.dasBaseURI+"entry_points",function(d){if(!d)return a([]);var c=[];
d=d.getElementsByTagName("SEGMENT");for(var m=0;m<d.length;++m){var e=d[m],s=e.getAttribute("id"),g=e.getAttribute("size"),b;g?(b=1,g|=0):((b=e.getAttribute("start"))&&(b|=0),(g=e.getAttribute("stop"))&&(g|=0));var l=null;e.firstChild&&(l=e.firstChild.nodeValue);c.push(new p(s,b,g,l))}a(c)})};x.prototype.sequence=function(a,d){var c=this.dasBaseURI+"sequence?"+a.toDASQuery();this.doCrossDomainRequest(c,function(c){if(c){var a=[];c=c.getElementsByTagName("SEQUENCE");for(var s=0;s<c.length;++s){var g=
c[s],b=g.getAttribute("id"),l=g.getAttribute("start"),q=g.getAttribute("stop"),r=null;if(g.firstChild)for(var g=g.firstChild.nodeValue,r="",h=0;;){var k=g.indexOf("\n",h);if(0<=k)r+=g.substring(h,k).toUpperCase(),h=k+1;else{r+=g.substring(h).toUpperCase();break}}a.push(new G(b,l,q,"DNA",r))}d(a)}else d([])})};x.prototype.features=function(a,d,c){d=d||{};var m;if(this.features_uri)m=this.features_uri;else{var e=[];if(a)e.push(a.toDASQuery());else if(d.group)if(a=d.group,"string"==typeof a)e.push("group_id="+
a);else for(var s=0;s<a.length;++s)e.push("group_id="+a[s]);if(d.adjacent)for(a=d.adjacent,"string"==typeof a&&(a=[a]),s=0;s<a.length;++s)e.push("adjacent="+a[s]);if(d.type)if("string"==typeof d.type)e.push("type="+d.type);else for(a=0;a<d.type.length;++a)e.push("type="+d.type[a]);d.maxbins&&e.push("maxbins="+d.maxbins);0<e.length?m=this.dasBaseURI+"features?"+e.join(";"):c([],"No filters specified")}this.doCrossDomainRequest(m,function(a,m){if(a){for(var e=[],d={},s=a.getElementsByTagName("SEGMENT"),
b=0;b<s.length;++b){var k=s[b],v=k.getAttribute("id");d[v]={min:k.getAttribute("start"),max:k.getAttribute("stop")};for(var k=k.getElementsByTagName("FEATURE"),f=0;f<k.length;++f){var t=k[f],p=new E;p.segment=v;p.id=t.getAttribute("id");p.label=t.getAttribute("label");var u=h(t,"START"),n=h(t,"END");(u|0)>(n|0)?(p.min=n|0,p.max=u|0):(p.min=u|0,p.max=n|0);u=t.getElementsByTagName("TYPE");0<u.length&&(u=u[0],u.firstChild&&(p.type=u.firstChild.nodeValue),p.typeId=u.getAttribute("id"),p.typeCv=u.getAttribute("cvId"));
p.type=h(t,"TYPE");!p.type&&p.typeId&&(p.type=p.typeId);p.method=h(t,"METHOD");(u=h(t,"ORIENTATION"))||(u="0");p.orientation=u;p.score=h(t,"SCORE");p.links=r(t);p.notes=B(t);u=t.getElementsByTagName("GROUP");for(n=0;n<u.length;++n){var I=u[n],x=new z;x.type=I.getAttribute("type");x.id=I.getAttribute("id");x.links=r(I);x.notes=B(I);p.groups?p.groups.push(x):p.groups=Array(x)}if(p.notes)for(u=0;u<p.notes.length;++u)n=p.notes[u],0==n.indexOf("Genename=")&&(I=new z,I.type="gene",I.id=n.substring(9),p.groups?
p.groups.push(I):p.groups=Array(I));u=t.getElementsByTagName("PART");if(0<u.length){I=[];for(n=0;n<u.length;++n)I.push(u[n].getAttribute("id"));p.parts=I}u=t.getElementsByTagName("PARENT");if(0<u.length){t=[];for(n=0;n<u.length;++n)t.push(u[n].getAttribute("id"));p.parents=t}e.push(p)}}c(e,void 0,d)}else c([],"Failed request: "+(0==m.status?"server may not support CORS":"status="+m.status))},function(a){c([],a)})};x.prototype.alignments=function(d,b,c){var m=this.dasBaseURI+"alignment?query="+d;this.doCrossDomainRequest(m,
function(e){if(e){var d=[];e=e.getElementsByTagName("alignment");for(var b=0;b<e.length;++b){for(var C=e[b],l=new a(C.getAttribute("alignType")),q=C.getElementsByTagName("alignObject"),r=0;r<q.length;++r){var k=q[r],k={id:k.getAttribute("intObjectId"),accession:k.getAttribute("dbAccessionId"),version:k.getAttribute("objectVersion"),dbSource:k.getAttribute("dbSource"),dbVersion:k.getAttribute("dbVersion")};l.objects[k.id]=k}C=C.getElementsByTagName("block");for(q=0;q<C.length;++q){for(var k=C[q],r=
{order:k.getAttribute("blockOrder"),segments:[]},k=k.getElementsByTagName("segment"),v=0;v<k.length;++v){var f=k[v],f={object:f.getAttribute("intObjectId"),min:f.getAttribute("start"),max:f.getAttribute("end"),strand:f.getAttribute("strand"),cigar:h(f,"cigar")};r.segments.push(f)}l.blocks.push(r)}d.push(l)}c(d)}else c([],"Failed request "+m)})};b.prototype.pushStyle=function(a,d,c){a||(a={type:"default"});a=I(a);d&&(a.zoom=d);a.style=c;this.styles.push(a)};x.prototype.stylesheet=function(a,k){var c,
m=this.credentials;this.stylesheet_uri?(c=this.stylesheet_uri,m=!1):c=this.dasBaseURI+"stylesheet";O(c,function(c){if(c){var m=new b;c=c.getElementsByTagName("TYPE");for(var g=0;g<c.length;++g){var r=c[g],l={};l.type=r.getAttribute("id");l.label=r.getAttribute("label");l.method=r.getAttribute("method");for(var r=r.getElementsByTagName("GLYPH"),q=0;q<r.length;++q){var h=r[q],v=h.getAttribute("zoom"),f;a:{if(h.hasChildNodes()){h=h.firstChild;do{if(h.nodeType==Node.ELEMENT_NODE){f=h;break a}h=h.nextSibling}while(null!=
h)}f=null}h=new d;h.glyph=f.localName;for(f=f.firstChild;f;){if(f.nodeType==Node.ELEMENT_NODE)if("BGGRAD"==f.localName){var t=h,p=f.localName,n,I=f;n=(n=I.getAttribute("steps"))?n|0:50;for(var x=[],B=[],I=I.getElementsByTagName("STOP"),y=0;y<I.length;++y){var D=I[y];x.push(1*D.getAttribute("score"));B.push(D.firstChild.nodeValue)}n=N(n,x,B);t[p]=n}else h[f.localName]=f.firstChild.nodeValue;f=f.nextSibling}m.pushStyle(l,v,h)}}a(m)}else k&&k()},m)};k.prototype.sources=function(a,d,c){c||(c={});var m=
[];c.taxon&&m.push("organism="+c.taxon);c.auth&&m.push("authority="+c.auth);c.version&&m.push("version="+c.version);c=this.uri;0<m.length&&(c=c+"?"+m.join("&"));O(c,function(c){if(!c&&d)d();else{var m=[];c=c.getElementsByTagName("SOURCE");for(var b=0;b<c.length;++b){var r=c[b],l=r.getElementsByTagName("VERSION");if(!(1>l.length)){for(var q=l[0],k=q.getElementsByTagName("COORDINATES"),l=[],h=0;h<k.length;++h){var f=k[h],v=new A;v.auth=f.getAttribute("authority");v.taxon=f.getAttribute("taxid");v.version=
f.getAttribute("version");l.push(v)}for(var k=[],f=q.getElementsByTagName("CAPABILITY"),p,h=0;h<f.length;++h)v=f[h],k.push(v.getAttribute("type")),"das1:features"==v.getAttribute("type")&&(p=v.getAttribute("query_uri"),p=p.substring(0,p.length-8));h={};q=q.getElementsByTagName("PROP");for(f=0;f<q.length;++f)t(h,q[f].getAttribute("name"),q[f].getAttribute("value"));p&&(r=new x(p,{source_uri:r.getAttribute("uri"),name:r.getAttribute("title"),desc:r.getAttribute("description"),coords:l,props:h,capabilities:k}),
m.push(r))}}a(m)}})};x.prototype.doCrossDomainRequest=function(a,d,c){var m;this.xUser&&(m="Basic "+btoa(this.xUser+":"+this.xPass));try{return O(a,d,this.credentials,m)}catch(e){if(c)c(e);else throw e;}};"undefined"!==typeof H&&(H.exports={DASGroup:z,DASFeature:E,DASStylesheet:b,DASStyle:d,DASSource:x,DASSegment:p,DASRegistry:k,DASSequence:G,DASLink:f,isDasBooleanTrue:M,isDasBooleanNotFalse:P,copyStylesheet:v,coordsMatch:n})},{"./color":4,"./utils":10}],6:[function(y,H,J){(function(p){function x(a){this.bam=
a}function A(a){this.bbi=a}var n=y("./bin"),G=y("./bam"),E=y("./bigwig"),z={},f=0;p.newID=function(){return"cn"+ ++f};postMessage({tag:"init"});self.onmessage=function(a){var b=a.data,d=a.data.command,k=a.data.tag;if("connectBAM"===d){var h=newID();b.blob?(a=new n.BlobFetchable(b.blob),b=new n.BlobFetchable(b.indexBlob)):(a=new n.URLFetchable(b.uri,{credentials:b.credentials}),b=new n.URLFetchable(b.indexUri,{credentials:b.credentials}));G.makeBam(a,b,function(a,d){a?(z[h]=new x(a),postMessage({tag:k,
result:h})):postMessage({tag:k,error:d||"Couldn't fetch BAM"})})}else if("connectBBI"===d)h=newID(),a=b.blob?new n.BlobFetchable(b.blob):new n.URLFetchable(b.uri,{credentials:b.credentials}),E.makeBwg(a,function(a,d){a?(z[h]=new A(a),postMessage({tag:k,result:h})):postMessage({tag:k,error:d||"Couldn't fetch BBI"})},b.uri);else if("fetch"===d){d=z[a.data.connection];if(!d)return postMessage({tag:k,error:"No such connection: "+a.data.connection});d.fetch(b.tag,b.chr,b.min,b.max,b.zoom,b.opts)}else if("leap"===
d){d=z[a.data.connection];if(!d)return postMessage({tag:k,error:"No such connection: "+a.data.connection});d.leap(b.tag,b.chr,b.pos,b.dir)}else if("quantLeap"===d){d=z[a.data.connection];if(!d)return postMessage({tag:k,error:"No such connection: "+a.data.connection});d.quantLeap(b.tag,b.chr,b.pos,b.dir,b.threshold,b.under)}else if("meta"===d){d=z[a.data.connection];if(!d)return postMessage({tag:k,error:"No such connection: "+a.data.connection});d.meta(b.tag)}else if("search"===d){d=z[a.data.connection];
if(!d)return postMessage({tag:k,error:"No such connection: "+a.data.connection});d.search(b.tag,b.query,b.index)}else{if("date"===d)return postMessage({tag:k,result:Date.now()|0});postMessage({tag:k,error:"Bad command "+d})}};x.prototype.fetch=function(a,b,d,k,h,r){r=r||{};this.bam.fetch(b,d,k,function(d,b){d?postMessage({tag:a,result:d,time:Date.now()|0}):postMessage({tag:a,error:b})},r)};A.prototype.fetch=function(a,b,d,k,h){"number"!==typeof h&&(h=-1);(0>h?this.bbi.getUnzoomedView():this.bbi.getZoomedView(h)).readWigData(b,
d,k,function(d){postMessage({tag:a,result:d})})};A.prototype.meta=function(a){for(var b=[1],d=0;d<this.bbi.zoomLevels.length;++d)b.push(this.bbi.zoomLevels[d].reduction);var k=this,h={type:this.bbi.type,zoomLevels:b,fieldCount:this.bbi.fieldCount,definedFieldCount:this.bbi.definedFieldCount,schema:this.bbi.schema};"bigbed"===this.bbi.type?this.bbi.getExtraIndices(function(d){d&&(k.extraIndices=d,h.extraIndices=d.map(function(a){return a.field}));postMessage({tag:a,result:h})}):postMessage({tag:a,
result:h})};A.prototype.leap=function(a,b,d,k){this.bbi.getUnzoomedView().getFirstAdjacent(b,d,k,function(d,b){postMessage({tag:a,result:d,error:b})})};A.prototype.quantLeap=function(a,b,d,k,h,f){this.bbi.thresholdSearch(b,d,k,h,function(d,b){postMessage({tag:a,result:d,error:b})})};A.prototype.search=function(a,b,d){this.extraIndices[0].lookup(b,function(d,b){postMessage({tag:a,result:d,error:b})})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bam":1,"./bigwig":2,
"./bin":3}],7:[function(y,H,J){function p(a,b){this.block=a;this.offset=b}function x(a,b){var d=4294967296*(a[b+6]&255)+16777216*(a[b+5]&255)+65536*(a[b+4]&255)+256*(a[b+3]&255)+(a[b+2]&255),k=a[b+1]<<8|a[b];return 0==d&&0==k?null:new p(d,k)}function A(a,b){b=Math.min(b||1,a.byteLength-50);for(var d=[],k=[0],h=0;k[0]<b;){var r=new Uint8Array(a,k[0],12),r=r[11]<<8|r[10],r=z(a,12+r+k[0],Math.min(65536,a.byteLength-12-r-k[0]),k);k[0]+=8;h+=r.byteLength;d.push(r)}if(1==d.length)return d[0];k=new Uint8Array(h);
for(r=h=0;r<d.length;++r){var p=new Uint8Array(d[r]);f(p,0,k,h,p.length);h+=p.length}return k.buffer}function n(a,b){this.minv=a;this.maxv=b}function G(a,b){--b;return a>>14==b>>14?4681+(a>>14):a>>17==b>>17?585+(a>>17):a>>20==b>>20?73+(a>>20):a>>23==b>>23?9+(a>>23):a>>26==b>>26?1+(a>>26):0}function E(a,b){var d,k=[];--b;k.push(0);for(d=1+(a>>26);d<=1+(b>>26);++d)k.push(d);for(d=9+(a>>23);d<=9+(b>>23);++d)k.push(d);for(d=73+(a>>20);d<=73+(b>>20);++d)k.push(d);for(d=585+(a>>17);d<=585+(b>>17);++d)k.push(d);
for(d=4681+(a>>14);d<=4681+(b>>14);++d)k.push(d);return k}if("undefined"!==typeof y){y=y("jszlib");var z=y.inflateBuffer,f=y.arrayCopy}p.prototype.toString=function(){return""+this.block+":"+this.offset};"undefined"!==typeof H&&(H.exports={unbgzf:A,readVob:x,reg2bin:G,reg2bins:E,Chunk:n})},{jszlib:11}],8:[function(y,H,J){function p(f){f=A(n(f));for(var a=E?"0123456789ABCDEF":"0123456789abcdef",b="",d,k=0;k<f.length;k++)d=f.charCodeAt(k),b+=a.charAt(d>>>4&15)+a.charAt(d&15);return b}function x(f){f=
A(n(f));for(var a="",b=f.length,d=0;d<b;d+=3)for(var k=f.charCodeAt(d)<<16|(d+1<b?f.charCodeAt(d+1)<<8:0)|(d+2<b?f.charCodeAt(d+2):0),h=0;4>h;h++)a=8*d+6*h>8*f.length?a+z:a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(k>>>6*(3-h)&63);return a}function A(f){for(var a=Array(f.length>>2),b=0;b<a.length;b++)a[b]=0;for(b=0;b<8*f.length;b+=8)a[b>>5]|=(f.charCodeAt(b/8)&255)<<24-b%32;f=8*f.length;a[f>>5]|=128<<24-f%32;a[(f+64>>9<<4)+15]=f;f=Array(80);for(var b=1732584193,d=-271733879,
k=-1732584194,h=271733878,r=-1009589776,p=0;p<a.length;p+=16){for(var n=b,x=d,y=k,v=h,I=r,t=0;80>t;t++){if(16>t)f[t]=a[p+t];else{var N=f[t-3]^f[t-8]^f[t-14]^f[t-16];f[t]=N<<1|N>>>31}var N=b<<5|b>>>27,u;u=20>t?d&k|~d&h:40>t?d^k^h:60>t?d&k|d&h|k&h:d^k^h;N=G(G(N,u),G(G(r,f[t]),20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514));r=h;h=k;k=d<<30|d>>>2;d=b;b=N}b=G(b,n);d=G(d,x);k=G(k,y);h=G(h,v);r=G(r,I)}a=[b,d,k,h,r];f="";for(b=0;b<32*a.length;b+=8)f+=String.fromCharCode(a[b>>5]>>>24-b%32&255);
return f}function n(f){for(var a="",b=-1,d,k;++b<f.length;)d=f.charCodeAt(b),k=b+1<f.length?f.charCodeAt(b+1):0,55296<=d&&56319>=d&&56320<=k&&57343>=k&&(d=65536+((d&1023)<<10)+(k&1023),b++),127>=d?a+=String.fromCharCode(d):2047>=d?a+=String.fromCharCode(192|d>>>6&31,128|d&63):65535>=d?a+=String.fromCharCode(224|d>>>12&15,128|d>>>6&63,128|d&63):2097151>=d&&(a+=String.fromCharCode(240|d>>>18&7,128|d>>>12&63,128|d>>>6&63,128|d&63));return a}function G(f,a){var b=(f&65535)+(a&65535);return(f>>16)+(a>>
16)+(b>>16)<<16|b&65535}var E=0,z="";"undefined"!==typeof H&&(H.exports={b64_sha1:x,hex_sha1:p})},{}],9:[function(y,H,J){function p(f,a){if("number"!=typeof f||"number"!=typeof a)throw"Bad range "+f+","+a;this._min=f;this._max=a}function x(f){this._ranges=f}function A(f,a){f instanceof Array||(f=[f],a&&f.push(a));if(0==f.length)return null;if(1==f.length)return f[0];for(var b=[],d=0;d<f.length;++d)f[d]._pushRanges(b);for(var b=b.sort(z),d=[],k=b[0],k=new p(k._min,k._max),h=1;h<b.length;++h){var r=
b[h];r._min>k._max+1?(d.push(k),k=new p(r._min,r._max)):r._max>k._max&&(k._max=r._max)}d.push(k);return 1==d.length?d[0]:new x(d)}function n(f,a){for(var b=f.ranges(),d=a.ranges(),k=b.length,h=d.length,r=0,n=0,y=[];r<k&&n<h;){f=b[r];a=d[n];var A=Math.max(f.min(),a.min()),E=Math.min(f.max(),a.max());E>=A&&y.push(new p(A,E));f.max()>a.max()?++n:++r}return 0==y.length?null:1==y.length?y[0]:new x(y)}function G(f){var a=0;f=f.ranges();for(var b=0;b<f.length;++b)var d=f[b],a=a+(d.max()-d.min()+1);return a}
function E(f,a){return f.min()<a.min()?-1:f.min()>a.min()?1:f.max()<a.max()?-1:a.max()>f.max()?1:0}function z(f,a){return f._min<a._min?-1:f._min>a._min?1:f._max<a._max?-1:a._max>f._max?1:0}p.prototype.min=function(){return this._min};p.prototype.max=function(){return this._max};p.prototype.contains=function(f){return f>=this._min&&f<=this._max};p.prototype.isContiguous=function(){return!0};p.prototype.ranges=function(){return[this]};p.prototype._pushRanges=function(f){f.push(this)};p.prototype.toString=
function(){return"["+this._min+"-"+this._max+"]"};x.prototype.min=function(){return this._ranges[0].min()};x.prototype.max=function(){return this._ranges[this._ranges.length-1].max()};x.prototype.contains=function(f){for(var a=0;a<this._ranges.length;++a)if(this._ranges[a].contains(f))return!0;return!1};x.prototype.isContiguous=function(){return 1<this._ranges.length};x.prototype.ranges=function(){return this._ranges};x.prototype._pushRanges=function(f){for(var a=0;a<this._ranges.length;++a)f.push(this._ranges[a])};
x.prototype.toString=function(){for(var f="",a=0;a<this._ranges.length;++a)0<a&&(f+=","),f+=this._ranges[a].toString();return f};"undefined"!==typeof H&&(H.exports={Range:p,union:A,intersection:n,coverage:G,rangeOver:E,_rangeOrder:z})},{}],10:[function(y,H,J){function p(a,d){for(var b=0;b<a.length;++b)if(a[b]==d)return;a.push(d)}function x(a,d,b){a[d]?a[d].push(b):a[d]=[b]}function A(a,d,b){var k=a[d];if(k){for(a=0;a<k.length;++a)if(k[a]==b)return;k.push(b)}else a[d]=[b]}function n(a,d,b,k){if(a)return a;
if(d)return d;if(b)return b;if(k)return k}function p(a,d){for(var b=0;b<a.length;++b)if(a[b]==d)return;a.push(d)}function G(a,d){if(!a)return-1;for(var b=0;b<a.length;++b)if(a[b]===d)return b;return-1}function E(a,d,b,k){a=document.createElement(a);if(d){d instanceof Array||(d=[d]);for(var h=0;h<d.length;++h){var f=d[h];f&&("string"==typeof f?f=document.createTextNode(f):"number"==typeof f&&(f=document.createTextNode(""+f)),a.appendChild(f))}}if(b)for(var c in b)try{a[c]=b[c]}catch(m){throw console.log("error setting "+
c),m;}if(k)for(c in k)a.style[c]=k[c];return a}function z(a,d,b,k){a=document.createElementNS(a,d);if(b)for(b instanceof Array||(b=[b]),d=0;d<b.length;++d){var f=b[d];"string"==typeof f&&(f=document.createTextNode(f));a.appendChild(f)}if(k)for(var h in k){b=a;d=h;var f=k[h],c=M[d];if(!c){for(var c="",m=0;m<d.length;++m)var e=d.substring(m,m+1),s=e.toLowerCase(),c=s!=e?c+"-"+s:c+e;M[d]=c}b.setAttribute(c,f)}return a}function f(a){if(a&&a.childNodes)for(;0<a.childNodes.length;)a.removeChild(a.firstChild)}
function a(d,b){if("undefined"===typeof d)return"undefined";if(null==d)return"null";if("string"==typeof d)return"'"+d+"'";if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array){for(var k=null,f=0;f<d.length;++f)k=(null==k?"":k+", ")+a(d[f],b);return"["+(k?k:"")+"]"}b=b||{};k=null;for(f in d)b[f]||void 0!=f&&"function"!=typeof d[f]&&(k=(null==k?"":k+", ")+f+": "+a(d[f],b));return"{"+(k?k:"")+"}"}return typeof d}function b(a){var d={},b;for(b in a)d[b]=a[b];
return d}function d(a){this.value=a;this.listeners=[]}function k(){this.queue=[]}function h(a,d,b){b.salt&&(a=a+"?salt="+O(""+Date.now()+","+ ++P));var k=new XMLHttpRequest;k.onreadystatechange=function(){4==k.readyState&&(300<=k.status?d(null,"Error code "+k.status):d(k.responseText))};k.open("GET",a,!0);k.responseType="text";b&&b.credentials&&(k.withCredentials=!0);k.send("")}function r(a,d){if(0==d.indexOf("http:")||0==d.indexOf("https:"))return d;var b=a.lastIndexOf("/");return 0<=b?a.substr(0,
b+1)+d:d}function B(a){return E("a",null,{href:a}).href}if("undefined"!==typeof y)var O=y("./sha1").b64_sha1;var M={};d.prototype.addListener=function(a){this.listeners.push(a)};d.prototype.addListenerAndFire=function(a){this.listeners.push(a);a(this.value)};d.prototype.removeListener=function(a){var d=this.listeners;a=G(d,a);0<=a&&d.splice(a,1)};d.prototype.get=function(){return this.value};d.prototype.set=function(a){this.value=a;for(var d=0;d<this.listeners.length;++d)this.listeners[d](a)};k.prototype.provide=
function(a){if(void 0!==this.res)throw"Resource has already been provided.";this.res=a;for(var d=0;d<this.queue.length;++d)this.queue[d](a);this.queue=null};k.prototype.await=function(a){if(void 0!==this.res)return a(this.res),this.res;this.queue.push(a)};var P=0;y={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",
GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"*",TAG:"*",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"*",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"};"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});"undefined"!==typeof H&&(H.exports={textXHR:h,relativeURL:r,resolveUrlToPage:B,shallowCopy:b,pusho:x,pushnew:p,pushnewo:A,
arrayIndexOf:G,pick:n,makeElement:E,makeElementNS:z,removeChildren:f,miniJSONify:a,Observed:d,Awaited:k,AMINO_ACID_TRANSLATION:y})},{"./sha1":8}],11:[function(y,H,J){function p(){}function x(){this.was=[0]}function A(c,d,e){this.hufts=new Int32Array(3*a);this.window=new Uint8Array(e);this.end=e;this.checkfn=d;this.mode=B;this.reset(c,null);this.index=this.table=this.left=0;this.blens=null;this.bb=new Int32Array(1);this.tb=new Int32Array(1);this.codes=new n;this.check=this.write=this.read=this.bitb=
this.bitk=this.last=0;this.inftree=new G}function n(){}function G(){}function E(c,a,d,b,g){if(0!=g){if(!c)throw"Undef src";if(!d)throw"Undef dest";if(0==a&&g==c.length)d.set(c,b);else if(F)c=c.subarray(a,a+g),d.set(c,b);else if(1==c.BYTES_PER_ELEMENT&&100<g)c=new Uint8Array(c.buffer,c.byteOffset+a,g),d.set(c,b);else for(var k=0;k<g;++k)d[b+k]=c[a+k]}}function z(c,a,e,s){c=a?e?new Uint8Array(c,a,e):new Uint8Array(c,a,c.byteLength-a):new Uint8Array(c);e=new p;e.inflateInit(f,!0);e.next_in=c;e.next_in_index=
0;e.avail_in=c.length;c=[];for(var g=0;;){var r=new Uint8Array(32E3);e.next_out=r;e.next_out_index=0;e.avail_out=r.length;var l=e.inflate(b);if(l!=d&&l!=k&&l!=h)throw e.msg;if(0!=e.avail_out){var q=new Uint8Array(r.length-e.avail_out);E(r,0,q,0,r.length-e.avail_out);r=q}c.push(r);g+=r.length;if(l==k||l==h)break}s&&(s[0]=(a||0)+e.next_in_index);if(1==c.length)return c[0].buffer;a=new Uint8Array(g);for(e=s=0;e<c.length;++e)g=c[e],E(g,0,a,s,g.length),s+=g.length;return a.buffer}var f=15,a=1440,b=0,d=
0,k=1,h=-5,r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],B=0,O=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,
60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,
0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,
9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,
0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,
7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,
85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,
8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],M=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,
65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],P=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],I=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,
24577],t=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];p.prototype.inflateInit=function(c,a){c||(c=f);a&&(a=!1);this.istate=new x;return this.istate.inflateInit(this,a?-c:c)};p.prototype.inflate=function(c){return null==this.istate?-2:this.istate.inflate(this,c)};p.prototype.inflateEnd=function(){if(null==this.istate)return-2;var c=istate.inflateEnd(this);this.istate=null;return c};p.prototype.inflateSync=function(){return istate.inflateSync(this)};p.prototype.inflateSetDictionary=
function(c,a){return istate.inflateSetDictionary(this,c,a)};x.prototype.inflateReset=function(c){if(null==c||null==c.istate)return-2;c.total_in=c.total_out=0;c.msg=null;c.istate.mode=0!=c.istate.nowrap?7:0;c.istate.blocks.reset(c,null);return d};x.prototype.inflateEnd=function(c){null!=this.blocks&&this.blocks.free(c);this.blocks=null;return d};x.prototype.inflateInit=function(c,a){this.blocks=c.msg=null;nowrap=0;0>a&&(a=-a,nowrap=1);if(8>a||15<a)return this.inflateEnd(c),-2;this.wbits=a;c.istate.blocks=
new A(c,0!=c.istate.nowrap?null:this,1<<a);this.inflateReset(c);return d};x.prototype.inflate=function(c,a){var e,b;if(null==c||null==c.istate||null==c.next_in)return-2;a=4==a?h:d;for(e=h;;)switch(c.istate.mode){case 0:if(0==c.avail_in)return e;e=a;c.avail_in--;c.total_in++;if(8!=((c.istate.method=c.next_in[c.next_in_index++])&15)){c.istate.mode=13;c.msg="unknown compression method";c.istate.marker=5;break}if((c.istate.method>>4)+8>c.istate.wbits){c.istate.mode=13;c.msg="invalid window size";c.istate.marker=
5;break}c.istate.mode=1;case 1:if(0==c.avail_in)return e;e=a;c.avail_in--;c.total_in++;b=c.next_in[c.next_in_index++]&255;if(0!=((c.istate.method<<8)+b)%31){c.istate.mode=13;c.msg="incorrect header check";c.istate.marker=5;break}if(0==(b&32)){c.istate.mode=7;break}c.istate.mode=2;case 2:if(0==c.avail_in)return e;e=a;c.avail_in--;c.total_in++;c.istate.need=(c.next_in[c.next_in_index++]&255)<<24&4278190080;c.istate.mode=3;case 3:if(0==c.avail_in)return e;e=a;c.avail_in--;c.total_in++;c.istate.need+=
(c.next_in[c.next_in_index++]&255)<<16&16711680;c.istate.mode=4;case 4:if(0==c.avail_in)return e;e=a;c.avail_in--;c.total_in++;c.istate.need+=(c.next_in[c.next_in_index++]&255)<<8&65280;c.istate.mode=5;case 5:if(0==c.avail_in)return e;c.avail_in--;c.total_in++;c.istate.need+=c.next_in[c.next_in_index++]&255;c.adler=c.istate.need;c.istate.mode=6;return 2;case 6:return c.istate.mode=13,c.msg="need dictionary",c.istate.marker=0,-2;case 7:e=c.istate.blocks.proc(c,e);if(-3==e){c.istate.mode=13;c.istate.marker=
0;break}e==d&&(e=a);if(e!=k)return e;e=a;c.istate.blocks.reset(c,c.istate.was);if(0!=c.istate.nowrap){c.istate.mode=12;break}c.istate.mode=8;case 8:if(0==c.avail_in)return e;e=a;c.avail_in--;c.total_in++;c.istate.need=(c.next_in[c.next_in_index++]&255)<<24&4278190080;c.istate.mode=9;case 9:if(0==c.avail_in)return e;e=a;c.avail_in--;c.total_in++;c.istate.need+=(c.next_in[c.next_in_index++]&255)<<16&16711680;c.istate.mode=10;case 10:if(0==c.avail_in)return e;e=a;c.avail_in--;c.total_in++;c.istate.need+=
(c.next_in[c.next_in_index++]&255)<<8&65280;c.istate.mode=11;case 11:if(0==c.avail_in)return e;e=a;c.avail_in--;c.total_in++;c.istate.need+=c.next_in[c.next_in_index++]&255;if(c.istate.was[0]!=c.istate.need){c.istate.mode=13;c.msg="incorrect data check";c.istate.marker=5;break}c.istate.mode=12;case 12:return k;case 13:return-3;default:return-2}};x.prototype.inflateSetDictionary=function(c,a,e){var b=0,g=e;if(null==c||null==c.istate||6!=c.istate.mode)return-2;if(c._adler.adler32(1,a,0,e)!=c.adler)return-3;
c.adler=c._adler.adler32(0,null,0,0);g>=1<<c.istate.wbits&&(g=(1<<c.istate.wbits)-1,b=e-g);c.istate.blocks.set_dictionary(a,b,g);c.istate.mode=7;return d};var N=[0,0,255,255];x.prototype.inflateSync=function(c){var a,e,b;if(null==c||null==c.istate)return-2;13!=c.istate.mode&&(c.istate.mode=13,c.istate.marker=0);if(0==(a=c.avail_in))return h;e=c.next_in_index;for(b=c.istate.marker;0!=a&&4>b;)c.next_in[e]==N[b]?b++:b=0!=c.next_in[e]?0:4-b,e++,a--;c.total_in+=e-c.next_in_index;c.next_in_index=e;c.avail_in=
a;c.istate.marker=b;if(4!=b)return-3;a=c.total_in;e=c.total_out;this.inflateReset(c);c.total_in=a;c.total_out=e;c.istate.mode=7;return d};x.prototype.inflateSyncPoint=function(c){return null==c||null==c.istate||null==c.istate.blocks?-2:c.istate.blocks.sync_point()};var u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];A.prototype.reset=function(c,a){a&&(a[0]=this.check);6==this.mode&&this.codes.free(c);this.mode=B;this.read=this.write=this.bitb=this.bitk=0;this.checkfn&&(c.adler=this.check=c._adler.adler32(0,
null,0,0))};A.prototype.proc=function(c,a){var e,b,g,f,l,q,h;f=c.next_in_index;l=c.avail_in;b=this.bitb;g=this.bitk;q=this.write;for(h=q<this.read?this.read-q-1:this.end-q;;)switch(this.mode){case B:for(;3>g;){if(0!=l)a=d;else return this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);l--;b|=(c.next_in[f++]&255)<<g;g+=8}e=b&7;this.last=e&1;switch(e>>>1){case 0:b>>>=3;g-=3;e=g&7;b>>>=e;g-=e;this.mode=1;break;case 1:var p=new Int32Array(1),
n=new Int32Array(1),v=[],w=[];e=n;var t=v,x=w;p[0]=9;e[0]=5;t[0]=O;x[0]=M;this.codes.init(p[0],n[0],v[0],0,w[0],0,c);b>>>=3;g-=3;this.mode=6;break;case 2:b>>>=3;g-=3;this.mode=3;break;case 3:return b>>>=3,g-=3,this.mode=13,c.msg="invalid block type",a=-3,this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a)}break;case 1:for(;32>g;){if(0!=l)a=d;else return this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=
f,this.write=q,this.inflate_flush(c,a);l--;b|=(c.next_in[f++]&255)<<g;g+=8}if((~b>>>16&65535)!=(b&65535))return this.mode=13,c.msg="invalid stored block lengths",a=-3,this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);this.left=b&65535;b=g=0;this.mode=0!=this.left?2:0!=this.last?7:B;break;case 2:if(0==l)return this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,write=q,this.inflate_flush(c,a);if(0==
h&&(q==end&&0!=read&&(q=0,h=q<this.read?this.read-q-1:this.end-q),0==h&&(this.write=q,a=this.inflate_flush(c,a),q=this.write,h=q<this.read?this.read-q-1:this.end-q,q==this.end&&0!=this.read&&(q=0,h=q<this.read?this.read-q-1:this.end-q),0==h)))return this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);a=d;e=this.left;e>l&&(e=l);e>h&&(e=h);E(c.next_in,f,window,q,e);f+=e;l-=e;q+=e;h-=e;if(0!=(this.left-=e))break;this.mode=0!=this.last?
7:B;break;case 3:for(;14>g;){if(0!=l)a=d;else return this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);l--;b|=(c.next_in[f++]&255)<<g;g+=8}this.table=e=b&16383;if(29<(e&31)||29<(e>>5&31))return this.mode=9,c.msg="too many length or distance symbols",a=-3,this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);e=258+(e&31)+(e>>5&31);if(null==this.blens||this.blens.length<
e)this.blens=new Int32Array(e);else for(h=0;h<e;h++)this.blens[h]=0;b>>>=14;g-=14;this.index=0;mode=4;case 4:for(;this.index<4+(this.table>>>10);){for(;3>g;){if(0!=l)a=d;else return this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);l--;b|=(c.next_in[f++]&255)<<g;g+=8}this.blens[u[this.index++]]=b&7;b>>>=3;g-=3}for(;19>this.index;)this.blens[u[this.index++]]=0;this.bb[0]=7;e=this.inftree.inflate_trees_bits(this.blens,this.bb,this.tb,
this.hufts,c);if(e!=d)return a=e,-3==a&&(this.blens=null,this.mode=9),this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,write=q,this.inflate_flush(c,a);this.index=0;this.mode=5;case 5:for(;;){e=this.table;if(!(this.index<258+(e&31)+(e>>5&31)))break;for(e=this.bb[0];g<e;){if(0!=l)a=d;else return this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);l--;b|=(c.next_in[f++]&255)<<g;g+=8}e=this.hufts[3*
(this.tb[0]+(b&r[e]))+1];n=this.hufts[3*(this.tb[0]+(b&r[e]))+2];if(16>n)b>>>=e,g-=e,this.blens[this.index++]=n;else{h=18==n?7:n-14;for(p=18==n?11:3;g<e+h;){if(0!=l)a=d;else return this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);l--;b|=(c.next_in[f++]&255)<<g;g+=8}b>>>=e;g-=e;p+=b&r[h];b>>>=h;g-=h;h=this.index;e=this.table;if(h+p>258+(e&31)+(e>>5&31)||16==n&&1>h)return this.blens=null,this.mode=9,c.msg="invalid bit length repeat",
a=-3,this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);n=16==n?this.blens[h-1]:0;do this.blens[h++]=n;while(0!=--p);this.index=h}}this.tb[0]=-1;p=new Int32Array(1);n=new Int32Array(1);v=new Int32Array(1);w=new Int32Array(1);p[0]=9;n[0]=6;e=this.table;e=this.inftree.inflate_trees_dynamic(257+(e&31),1+(e>>5&31),this.blens,p,n,v,w,this.hufts,c);if(e!=d)return-3==e&&(this.blens=null,this.mode=13),a=e,this.bitb=b,this.bitk=g,c.avail_in=
l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);this.codes.init(p[0],n[0],this.hufts,v[0],this.hufts,w[0],c);this.mode=6;case 6:this.bitb=b;this.bitk=g;c.avail_in=l;c.total_in+=f-c.next_in_index;c.next_in_index=f;this.write=q;if((a=this.codes.proc(this,c,a))!=k)return this.inflate_flush(c,a);a=d;this.codes.free(c);f=c.next_in_index;l=c.avail_in;b=this.bitb;g=this.bitk;q=this.write;h=q<this.read?this.read-q-1:this.end-q;if(0==this.last){this.mode=B;break}this.mode=
7;case 7:this.write=q;a=this.inflate_flush(c,a);q=this.write;if(this.read!=this.write)return this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);mode=12;case 8:return a=k,this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a);case 9:return a=-3,this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,
a);default:return a=-2,this.bitb=b,this.bitk=g,c.avail_in=l,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=q,this.inflate_flush(c,a)}};A.prototype.free=function(a){this.reset(a,null);this.hufts=this.window=null};A.prototype.set_dictionary=function(a,d,b){E(a,d,window,0,b);this.read=this.write=b};A.prototype.sync_point=function(){return 1==this.mode};A.prototype.inflate_flush=function(a,b){var e,f,g;f=a.next_out_index;g=this.read;e=(g<=this.write?this.write:this.end)-g;e>a.avail_out&&(e=
a.avail_out);0!=e&&b==h&&(b=d);a.avail_out-=e;a.total_out+=e;null!=this.checkfn&&(a.adler=this.check=a._adler.adler32(this.check,this.window,g,e));E(this.window,g,a.next_out,f,e);f+=e;g+=e;g==this.end&&(g=0,this.write==this.end&&(this.write=0),e=this.write-g,e>a.avail_out&&(e=a.avail_out),0!=e&&b==h&&(b=d),a.avail_out-=e,a.total_out+=e,null!=this.checkfn&&(a.adler=this.check=a._adler.adler32(this.check,this.window,g,e)),E(this.window,g,a.next_out,f,e),f+=e,g+=e);a.next_out_index=f;this.read=g;return b};
n.prototype.init=function(a,d,b,f,g,k,l){this.mode=0;this.lbits=a;this.dbits=d;this.ltree=b;this.ltree_index=f;this.dtree=g;this.dtree_index=k;this.tree=null};n.prototype.proc=function(a,b,e){var f,g,h=0,l=0,q=0,p,n,u,q=b.next_in_index;p=b.avail_in;h=a.bitb;l=a.bitk;n=a.write;for(u=n<a.read?a.read-n-1:a.end-n;;)switch(this.mode){case 0:if(258<=u&&10<=p&&(a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=q-b.next_in_index,b.next_in_index=q,a.write=n,e=this.inflate_fast(this.lbits,this.dbits,this.ltree,this.ltree_index,
this.dtree,this.dtree_index,a,b),q=b.next_in_index,p=b.avail_in,h=a.bitb,l=a.bitk,n=a.write,u=n<a.read?a.read-n-1:a.end-n,e!=d)){this.mode=e==k?7:9;break}this.need=this.lbits;this.tree=this.ltree;this.tree_index=this.ltree_index;this.mode=1;case 1:for(f=this.need;l<f;){if(0!=p)e=d;else return a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e);p--;h|=(b.next_in[q++]&255)<<l;l+=8}f=3*(this.tree_index+(h&r[f]));h>>>=this.tree[f+1];l-=this.tree[f+
1];g=this.tree[f];if(0==g){this.lit=this.tree[f+2];this.mode=6;break}if(0!=(g&16)){this.get=g&15;this.len=this.tree[f+2];this.mode=2;break}if(0==(g&64)){this.need=g;this.tree_index=f/3+this.tree[f+2];break}if(0!=(g&32)){this.mode=7;break}this.mode=9;b.msg="invalid literal/length code";e=-3;a.bitb=h;a.bitk=l;b.avail_in=p;b.total_in+=q-b.next_in_index;b.next_in_index=q;a.write=n;return a.inflate_flush(b,e);case 2:for(f=this.get;l<f;){if(0!=p)e=d;else return a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=
q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e);p--;h|=(b.next_in[q++]&255)<<l;l+=8}this.len+=h&r[f];h>>=f;l-=f;this.need=this.dbits;this.tree=this.dtree;this.tree_index=this.dtree_index;this.mode=3;case 3:for(f=this.need;l<f;){if(0!=p)e=d;else return a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e);p--;h|=(b.next_in[q++]&255)<<l;l+=8}f=3*(this.tree_index+(h&r[f]));h>>=this.tree[f+1];l-=this.tree[f+1];g=this.tree[f];if(0!=
(g&16)){this.get=g&15;this.dist=this.tree[f+2];this.mode=4;break}if(0==(g&64)){this.need=g;this.tree_index=f/3+this.tree[f+2];break}this.mode=9;b.msg="invalid distance code";e=-3;a.bitb=h;a.bitk=l;b.avail_in=p;b.total_in+=q-b.next_in_index;b.next_in_index=q;a.write=n;return a.inflate_flush(b,e);case 4:for(f=this.get;l<f;){if(0!=p)e=d;else return a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e);p--;h|=(b.next_in[q++]&255)<<l;l+=8}this.dist+=
h&r[f];h>>=f;l-=f;this.mode=5;case 5:for(f=n-this.dist;0>f;)f+=a.end;for(;0!=this.len;){if(0==u&&(n==a.end&&0!=a.read&&(n=0,u=n<a.read?a.read-n-1:a.end-n),0==u&&(a.write=n,e=a.inflate_flush(b,e),n=a.write,u=n<a.read?a.read-n-1:a.end-n,n==a.end&&0!=a.read&&(n=0,u=n<a.read?a.read-n-1:a.end-n),0==u)))return a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e);a.window[n++]=a.window[f++];u--;f==a.end&&(f=0);this.len--}this.mode=0;break;case 6:if(0==
u&&(n==a.end&&0!=a.read&&(n=0,u=n<a.read?a.read-n-1:a.end-n),0==u&&(a.write=n,e=a.inflate_flush(b,e),n=a.write,u=n<a.read?a.read-n-1:a.end-n,n==a.end&&0!=a.read&&(n=0,u=n<a.read?a.read-n-1:a.end-n),0==u)))return a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e);e=d;a.window[n++]=this.lit;u--;this.mode=0;break;case 7:7<l&&(l-=8,p++,q--);a.write=n;e=a.inflate_flush(b,e);n=a.write;if(a.read!=a.write)return a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=
q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e);this.mode=8;case 8:return e=k,a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e);case 9:return e=-3,a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e);default:return e=-2,a.bitb=h,a.bitk=l,b.avail_in=p,b.total_in+=q-b.next_in_index,b.next_in_index=q,a.write=n,a.inflate_flush(b,e)}};n.prototype.free=function(a){};n.prototype.inflate_fast=
function(a,b,e,f,g,h,l,q){var n,p,u,v,w,t,x,y,A,B,D,z;t=q.next_in_index;x=q.avail_in;v=l.bitb;w=l.bitk;y=l.write;A=y<l.read?l.read-y-1:l.end-y;a=r[a];B=r[b];do{for(;20>w;)x--,v|=(q.next_in[t++]&255)<<w,w+=8;n=v&a;p=e;u=f;z=3*(u+n);if(0==(b=p[z]))v>>=p[z+1],w-=p[z+1],l.window[y++]=p[z+2],A--;else{do{v>>=p[z+1];w-=p[z+1];if(0!=(b&16)){b&=15;D=p[z+2]+(v&r[b]);v>>=b;for(w-=b;15>w;)x--,v|=(q.next_in[t++]&255)<<w,w+=8;n=v&B;p=g;u=h;z=3*(u+n);b=p[z];do if(v>>=p[z+1],w-=p[z+1],0!=(b&16)){for(b&=15;w<b;)x--,
v|=(q.next_in[t++]&255)<<w,w+=8;n=p[z+2]+(v&r[b]);v>>=b;w-=b;A-=D;if(y>=n)n=y-n,l.window[y++]=l.window[n++],l.window[y++]=l.window[n++],D-=2;else{n=y-n;do n+=l.end;while(0>n);b=l.end-n;if(D>b){D-=b;if(0<y-n&&b>y-n){do l.window[y++]=l.window[n++];while(0!=--b)}else E(l.window,n,l.window,y,b),y+=b;n=0}}do l.window[y++]=l.window[n++];while(0!=--D);break}else if(0==(b&64))n+=p[z+2],n+=v&r[b],z=3*(u+n),b=p[z];else return q.msg="invalid distance code",D=q.avail_in-x,D=w>>3<D?w>>3:D,x+=D,t-=D,w-=D<<3,l.bitb=
v,l.bitk=w,q.avail_in=x,q.total_in+=t-q.next_in_index,q.next_in_index=t,l.write=y,-3;while(1);break}if(0==(b&64)){if(n+=p[z+2],n+=v&r[b],z=3*(u+n),0==(b=p[z])){v>>=p[z+1];w-=p[z+1];l.window[y++]=p[z+2];A--;break}}else{if(0!=(b&32))return D=q.avail_in-x,D=w>>3<D?w>>3:D,x+=D,t-=D,w-=D<<3,l.bitb=v,l.bitk=w,q.avail_in=x,q.total_in+=t-q.next_in_index,q.next_in_index=t,l.write=y,k;q.msg="invalid literal/length code";D=q.avail_in-x;D=w>>3<D?w>>3:D;x+=D;t-=D;w-=D<<3;l.bitb=v;l.bitk=w;q.avail_in=x;q.total_in+=
t-q.next_in_index;q.next_in_index=t;l.write=y;return-3}}while(1)}}while(258<=A&&10<=x);D=q.avail_in-x;D=w>>3<D?w>>3:D;t-=D;l.bitb=v;l.bitk=w-(D<<3);q.avail_in=x+D;q.total_in+=t-q.next_in_index;q.next_in_index=t;l.write=y;return d};G.prototype.huft_build=function(c,b,e,f,g,k,l,n,p,r,v){var u,w,t,x,y,z,A,D,B;z=0;w=e;do this.c[c[b+z]]++,z++,w--;while(0!=w);if(this.c[0]==e)return l[0]=-1,n[0]=0,d;y=n[0];for(t=1;15>=t&&0==this.c[t];t++);x=t;y<t&&(y=t);for(w=15;0!=w&&0==this.c[w];w--);r=w;y>w&&(y=w);n[0]=
y;for(n=1<<t;t<w;t++,n<<=1)if(0>(n-=this.c[t]))return-3;if(0>(n-=this.c[w]))return-3;this.c[w]+=n;this.x[1]=t=0;z=1;for(A=2;0!=--w;)this.x[A]=t+=this.c[z],A++,z++;z=w=0;do 0!=(t=c[b+z])&&(this.v[this.x[t]++]=w),z++;while(++w<e);e=this.x[r];z=this.x[0]=w=0;b=-1;D=-y;for(B=A=this.u[0]=0;x<=r;x++)for(c=this.c[x];0!=c--;){for(;x>D+y;){b++;D+=y;B=r-D;B=B>y?y:B;if((u=1<<(t=x-D))>c+1&&(u-=c+1,A=x,t<B))for(;++t<B&&!((u<<=1)<=this.c[++A]);)u-=this.c[A];B=1<<t;if(this.hn[0]+B>a)return-3;this.u[b]=A=this.hn[0];
this.hn[0]+=B;0!=b?(this.x[b]=w,this.r[0]=t,this.r[1]=y,t=w>>>D-y,this.r[2]=A-this.u[b-1]-t,E(this.r,0,p,3*(this.u[b-1]+t),3)):l[0]=A}this.r[1]=x-D;z>=e?this.r[0]=192:v[z]<f?(this.r[0]=256>this.v[z]?0:96,this.r[2]=this.v[z++]):(this.r[0]=k[this.v[z]-f]+16+64,this.r[2]=g[this.v[z++]-f]);u=1<<x-D;for(t=w>>>D;t<B;t+=u)E(this.r,0,p,3*(A+t),3);for(t=1<<x-1;0!=(w&t);t>>>=1)w^=t;w^=t;for(t=(1<<D)-1;(w&t)!=this.x[b];)b--,D-=y,t=(1<<D)-1}return 0!=n&&1!=r?h:d};G.prototype.inflate_trees_bits=function(a,b,d,
f,g){this.initWorkArea(19);this.hn[0]=0;a=this.huft_build(a,0,19,19,null,null,d,b,f,this.hn,this.v);if(-3==a)g.msg="oversubscribed dynamic bit lengths tree";else if(a==h||0==b[0])g.msg="incomplete dynamic bit lengths tree",a=-3;return a};G.prototype.inflate_trees_dynamic=function(a,b,e,f,g,k,l,n,p){this.initWorkArea(288);this.hn[0]=0;k=this.huft_build(e,0,a,257,P,v,k,f,n,this.hn,this.v);if(k!=d||0==f[0])return-3==k?p.msg="oversubscribed literal/length tree":-4!=k&&(p.msg="incomplete literal/length tree",
k=-3),k;this.initWorkArea(288);k=this.huft_build(e,a,b,0,I,t,l,g,n,this.hn,this.v);return k!=d||0==g[0]&&257<a?(-3==k?p.msg="oversubscribed distance tree":k==h?(p.msg="incomplete distance tree",k=-3):-4!=k&&(p.msg="empty distance tree with lengths",k=-3),k):d};G.prototype.initWorkArea=function(a){null==this.hn&&(this.hn=new Int32Array(1),this.v=new Int32Array(a),this.c=new Int32Array(16),this.r=new Int32Array(3),this.u=new Int32Array(15),this.x=new Int32Array(16));this.v.length<a&&(this.v=new Int32Array(a));
for(var b=0;b<a;b++)this.v[b]=0;for(b=0;16>b;b++)this.c[b]=0;for(b=0;3>b;b++)this.r[b]=0;E(this.c,0,this.u,0,15);E(this.c,0,this.x,0,16)};var F="function"===typeof(new Uint8Array(1)).subarray;"undefined"!==typeof H&&(H.exports={inflateBuffer:z,arrayCopy:E})},{}]},{},[6]);
