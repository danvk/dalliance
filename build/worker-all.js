(function e$$0(J,L,s){function w(u,C){if(!L[u]){if(!J[u]){var z="function"==typeof require&&require;if(!C&&z)return z(u,!0);if(A)return A(u,!0);throw Error("Cannot find module '"+u+"'");}z=L[u]={exports:{}};J[u][0].call(z.exports,function(q){var a=J[u][1][q];return w(a?a:q)},z,z.exports,e$$0,J,L,s)}return L[u].exports}for(var A="function"==typeof require&&require,u=0;u<s.length;u++)w(s[u]);return w})({1:[function(y,J,L){function s(){}function w(d,b,r,t){function I(b){if(!b)return t(null,"Couldn't access BAM");
b=a(b,b.byteLength);b=new Uint8Array(b);var k=u(b,0);if(k!=l)return t(null,"Not a BAM file, magic=0x"+k.toString(16));for(var c=u(b,4),n="",k=0;k<c;++k)n+=String.fromCharCode(b[k+8]);n=u(b,c+8);c+=12;v.chrToIndex={};v.indexToChr=[];for(k=0;k<n;++k){for(var h=u(b,c),e="",g=0;g<h-1;++g)e+=String.fromCharCode(b[c+4+g]);u(b,c+h+4);v.chrToIndex[e]=k;0==e.indexOf("chr")?v.chrToIndex[e.substring(3)]=k:v.chrToIndex["chr"+e]=k;v.indexToChr.push(e);c=c+8+h}if(v.indices)return t(v)}var v=new s;v.data=d;v.bai=
b;v.indexChunks=r;var B=v.indexChunks?v.indexChunks.minBlockIndex:1E9;if(v.indexChunks){d=v.indexChunks.chunks;v.indices=[];for(b=0;b<d.length;b++)v.indices[b]=null;v.data.slice(0,B).fetch(I)}else v.bai.fetch(function(b){var k,c,n;if(b){var h=new Uint8Array(b),e=u(h,0);if(e!=f)b=t(null,"Not a BAI file, magic=0x"+e.toString(16));else{e=u(h,4);v.indices=[];for(var g=8,D=0;D<e;++D){var p=g;k=h;var m=n=p;c=u(k,m);for(var m=m+4,M=0;M<c;++M){u(k,m);var K=u(k,m+4),m=m+(8+16*K)}for(var M=u(k,m),m=m+4,K=1E9,
R=m,F=0;F<M;++F){var E=q(k,R),R=R+8;if(E){k=E.block;0<E.offset&&(k+=65536);k<K&&(K=k);break}}m+=8*M;k=K;n=m-n;g+=n;B=Math.min(k,B);0<c&&(v.indices[D]=new Uint8Array(b,p,g-p))}b=!0}}else b="Couldn't access BAI";!0!==b?t(null,b):v.data.slice(0,B).fetch(I)})}function A(){}if("undefined"!==typeof y){y("./spans");L=y("./bin");var u=L.readInt,H=L.readShort,C=L.readByte,z=L.readFloat;y=y("./lh3utils");var q=y.readVob,a=y.unbgzf,b=y.reg2bins,d=y.Chunk}var l=21840194,f=21578050;y={MULTIPLE_SEGMENTS:1,ALL_SEGMENTS_ALIGN:2,
SEGMENT_UNMAPPED:4,NEXT_SEGMENT_UNMAPPED:8,REVERSE_COMPLEMENT:16,NEXT_REVERSE_COMPLEMENT:32,FIRST_SEGMENT:64,LAST_SEGMENT:128,SECONDARY_ALIGNMENT:256,QC_FAIL:512,DUPLICATE:1024,SUPPLEMENTARY:2048};s.prototype.blocksForRange=function(a,r,f){var t=this.indices[a];if(!t)return[];a=b(r,f);for(var l=[],v=0;v<a.length;++v)l[a[v]]=!0;a=[];for(var B=[],v=u(t,0),x=4,k=0;k<v;++k){var c=u(t,x),n=u(t,x+4),x=x+8;if(l[c])for(var h=0;h<n;++h){var e=q(t,x),g=q(t,x+8);(4681>c?B:a).push(new d(e,g));x+=16}else x+=16*
n}v=u(t,x);l=null;r=Math.min(r>>14,v-1);f=Math.min(f>>14,v-1);for(v=r;v<=f;++v)(r=q(t,x+4+8*v))&&(!l||r.block<l.block||r.offset<l.offset)&&(l=r);t=[];if(null!=l)for(v=0;v<B.length;++v)f=B[v],f.maxv.block>=l.block&&f.maxv.offset>=l.offset&&t.push(f);B=t;t=[];for(v=0;v<B.length;++v)t.push(B[v]);for(v=0;v<a.length;++v)t.push(a[v]);t.sort(function(c,n){var h=c.minv.block-n.minv.block;return 0!=h?h:c.minv.offset-n.minv.offset});a=[];if(0<t.length){B=t[0];for(v=1;v<t.length;++v)f=t[v],f.minv.block==B.maxv.block?
B=new d(B.minv,f.maxv):(a.push(B),B=f);a.push(B)}return a};s.prototype.fetch=function(b,d,r,f,l){function v(){if(h>=k.length)return f(n);if(e){var c=new Uint8Array(e),c=q.readBamRecords(c,k[h].minv.offset,n,d,r,x,l);e=null;++h;return c?f(n):v()}var D=k[h],c=D.minv.block;q.data.slice(c,D.maxv.block+65536-c).fetch(function(c){e=a(c,D.maxv.block-D.minv.block+1);return v()})}var q=this;l=l||{};var x=this.chrToIndex[b],k;if(void 0===x)k=[];else{if(null===this.indices[x]&&this.indexChunks.chunks[x]){var c=
this.indexChunks.chunks[x];return this.bai.slice(c[0],c[1]).fetch(function(c){c=new Uint8Array(c);this.indices[x]=c;return this.fetch(b,d,r,f,l)}.bind(this))}(k=this.blocksForRange(x,d,r))||f(null,"Error in index fetch")}var n=[],h=0,e;v()};var r="=ACxGxxxTxxxxxxN".split(""),B="MIDNSHP=X???????".split("");s.prototype.readBamRecords=function(b,a,d,f,l,v,q){for(;;){var x=u(b,a),x=a+x+4;if(x>=b.length)return d;var k=new A,c=u(b,a+4),n=u(b,a+8),h=u(b,a+12),e=(h&65280)>>8,g=h&255,h=u(b,a+16),D=(h&4294901760)>>
16,p=h&65535,h=u(b,a+20),m=u(b,a+24),M=u(b,a+28);u(b,a+32);k.segment=this.indexToChr[c];k.flag=D;k.pos=n;k.mq=e;q.light&&(k.seqLength=h);if(!q.light){0<=m&&(k.nextSegment=this.indexToChr[m],k.nextPos=M);e="";for(n=0;n<g-1;++n)e+=String.fromCharCode(b[a+36+n]);k.readName=e;a=a+36+g;g="";for(n=0;n<p;++n)e=u(b,a),g=g+(e>>4)+B[e&15],a+=4;k.cigar=g;p="";g=h+1>>1;for(n=0;n<g;++n)e=b[a+n],p+=r[(e&240)>>4],p+=r[e&15];a+=g;k.seq=p;p="";for(n=0;n<h;++n)p+=String.fromCharCode(b[a+n]+33);a+=h;for(k.quals=p;a<
x;){p=String.fromCharCode(b[a],b[a+1]);g=String.fromCharCode(b[a+2]);if("A"==g)g=String.fromCharCode(b[a+3]),a+=4;else if("i"==g||"I"==g)g=u(b,a+3),a+=7;else if("c"==g||"C"==g)g=b[a+3],a+=4;else if("s"==g||"S"==g)g=H(b,a+3),a+=5;else if("f"==g)g=z(b,a+3),a+=7;else if("Z"==g||"H"==g)for(a+=3,g="";n=b[a++],0!=n;)g+=String.fromCharCode(n);else if("B"==g){g=String.fromCharCode(b[a+3]);n=u(b,a+4);if("i"==g||"I"==g||"f"==g)e=4,D="f"==g?z:u;else if("s"==g||"S"==g)e=2,D=H;else if("c"==g||"C"==g)e=1,D=C;else throw"Unknown array type "+
g;a+=8;g=[];for(m=0;m<n;++m)g.push(D(b,a)),a+=e}else throw"Unknown type "+g;k[p]=g}}if(!f||k.pos<=l&&k.pos+h>=f)void 0!==v&&c!=v||d.push(k);if(k.pos>l)return!0;a=x}};"undefined"!==typeof J&&(J.exports={makeBam:w,BAM_MAGIC:l,BAI_MAGIC:f,BamFlags:y})},{"./bin":3,"./lh3utils":7,"./spans":9}],2:[function(y,J,L){function s(k,c){return k[c]+k[c+1]*t+k[c+2]*I+k[c+3]*v+k[c+4]*N}function w(){}function A(k,c,n,h){this.bwg=k;this.cirTreeOffset=c;this.cirTreeLength=n;this.isSummary=h}function u(k,c,n){var h=
new w;h.data=k;h.name=n;h.data.slice(0,512).salted().fetch(function(n){if(!n)return c(null,"Couldn't fetch file");var g=new Uint8Array(n),k=new Int16Array(n);n=new Int32Array(n);var p=g[0]+t*g[1]+I*g[2]+v*g[3];p==B?h.type="bigwig":p==P?h.type="bigbed":p==O||p==Q?c(null,"Currently don't support big-endian BBI files"):c(null,"Not a supported format, magic=0x"+p.toString(16));h.version=k[2];h.numZoomLevels=k[3];h.chromTreeOffset=s(g,8);h.unzoomedDataOffset=s(g,16);h.unzoomedIndexOffset=s(g,24);h.fieldCount=
k[16];h.definedFieldCount=k[17];h.asOffset=s(g,36);h.totalSummaryOffset=s(g,44);h.uncompressBufSize=n[13];h.extHeaderOffset=s(g,56);h.zoomLevels=[];for(k=0;k<h.numZoomLevels;++k){var p=n[6*k+16],m=s(g,24*k+72),a=s(g,24*k+80);h.zoomLevels.push({reduction:p,dataOffset:m,indexOffset:a})}h.readChromTree(function(){h.getAutoSQL(function(n){h.schema=n;return c(h)})})})}function H(k,c,n,h,e){this.bbi=k;this.type=c;this.fieldCount=n;this.offset=h;this.field=e}if("undefined"!==typeof y){L=y("./spans");var C=
L.Range,z=L.union,q=L.intersection;L=y("./das");var a=L.DASFeature,b=L.DASGroup,d=y("./utils").shallowCopy,l=y("./bin").readInt;y=y("jszlib");var f=y.inflateBuffer,r=y.arrayCopy}var B=2291137574,O=654086024,P=2273964779,Q=3958540679,t=256,I=65536,v=16777216,N=4294967296,x=/^[0-9]+,[0-9]+,[0-9]+/;w.prototype.readChromTree=function(k){var c=this;this.chromsToIDs={};this.idsToChroms={};this.maxID=0;var n=this.unzoomedDataOffset,n=n+4-(n-this.chromTreeOffset&3);this.data.slice(this.chromTreeOffset,n-
this.chromTreeOffset).fetch(function(n){var e=new Uint8Array(n),g=new Int16Array(n),a=(new Int32Array(n))[2];s(e,16);var p=function(n){var h=e[n],k=g[n/2+1];n+=4;for(var b=0;b<k;++b)if(0==h){n+=a;var F=s(e,n);n+=8;F-=c.chromTreeOffset;p(F)}else{for(var F="",E=0;E<a;++E){var d=e[n++];0!=d&&(F+=String.fromCharCode(d))}E=e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n+0];n+=8;c.chromsToIDs[F]=E;0==F.indexOf("chr")&&(c.chromsToIDs[F.substr(3)]=E);c.idsToChroms[E]=F;c.maxID=Math.max(c.maxID,E)}};p(32);k(c)})};A.prototype.readWigData=
function(k,c,n,h){k=this.bwg.chromsToIDs[k];if(void 0===k)return h([]);this.readWigDataById(k,c,n,h)};A.prototype.readWigDataById=function(k,c,n,h){var e=this;if(this.cirHeader){var g=[],a=0;Date.now();var p=function(h,e,g,a){return(0>k||h==k)&&e<=n&&g>=c},b=function(c,n){e.bwg.instrument&&console.log("level="+n+"; offset="+c+"; time="+(Date.now()|0));a+=c.length;if(1==c.length&&48==c[0]-e.cirTreeOffset&&e.cachedCirRoot)K(e.cachedCirRoot,0,n),--a,0==a&&e.fetchFeatures(p,g,h);else{for(var k=4+32*e.cirBlockSize,
b,m=0;m<c.length;++m){var r=new C(c[m],c[m]+k);b=b?z(b,r):r}k=b.ranges();for(b=0;b<k.length;++b)d(c,k[b],n)}},d=function(c,n,k,b){n.max();n.min();e.bwg.data.slice(n.min(),n.max()-n.min()).fetch(function(b){for(var m=0;m<c.length;++m)n.contains(c[m])&&(K(b,c[m]-n.min(),k),48==c[m]-e.cirTreeOffset&&0==c[m]-n.min()&&(e.cachedCirRoot=b),--a,0==a&&e.fetchFeatures(p,g,h))})},K=function(h,e,a){var p=new Uint8Array(h),D=new Int16Array(h);h=new Int32Array(h);var d=p[e],D=D[e/2+1];e+=4;if(0!=d)for(d=0;d<D;++d){var K=
e/4,M=h[K],r=h[K+1],f=h[K+2],K=h[K+3],v=s(p,e+16);a=s(p,e+24);(0>k||M<k||M==k&&r<=n)&&(0>k||f>k||f==k&&K>=c)&&g.push({offset:v,size:a});e+=32}else{for(var x=[],d=0;d<D;++d)K=e/4,M=h[K],r=h[K+1],f=h[K+2],K=h[K+3],v=s(p,e+16),(0>k||M<k||M==k&&r<=n)&&(0>k||f>k||f==k&&K>=c)&&x.push(v),e+=24;0<x.length&&b(x,a+1)}};b([e.cirTreeOffset+48],1)}else this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(g){e.cirHeader=g;g=new Int32Array(e.cirHeader);e.cirBlockSize=g[1];e.readWigDataById(k,c,n,h)})};A.prototype.fetchFeatures=
function(k,c,n){var h=this;c.sort(function(c,n){return(c.offset|0)-(n.offset|0)});if(0==c.length)n([]);else{var e=[],g=function(c,n,g,k){k||(k={});var b=new a;b._chromId=c;b.segment=h.bwg.idsToChroms[c];b.min=n;b.max=g;b.type="bigwig";for(var D in k)b[D]=k[D];e.push(b)},b=function(){if(0==c.length)Date.now(),n(e);else{var a=c[0];if(a.data)h.parseFeatures(a.data,g,k),c.splice(0,1),b();else{for(var m=a.offset,d=a.size,a=1;a<c.length&&c[a].offset==m+d;)d+=c[a].size,++a;h.bwg.data.slice(m,d).fetch(function(n){for(var e=
0,g=0;e<d;){var a=c[g],k;0<h.bwg.uncompressBufSize?k=f(n,e+2,a.size-2):(k=new Uint8Array(a.size),r(new Uint8Array(n,e,a.size),0,k,0,a.size),k=k.buffer);a.data=k;e+=a.size;++g}b()})}}};b()}};A.prototype.parseFeatures=function(a,c,n){var h=new Uint8Array(a);if(this.isSummary)for(var e=new Int16Array(a),g=new Int32Array(a),D=new Float32Array(a),h=a.byteLength/32,e=0;e<h;++e){a=g[8*e];var p=g[8*e+1],m=g[8*e+2],r=g[8*e+3],K=D[8*e+5],f=D[8*e+6];n(a,p+1,m)&&(r={type:"bigwig",score:f/r,maxScore:K},"bigbed"==
this.bwg.type&&(r.type="density"),c(a,p+1,m,r))}else if("bigwig"==this.bwg.type)if(e=new Int16Array(a),g=new Int32Array(a),D=new Float32Array(a),a=g[0],K=g[1],f=g[3],r=g[4],p=h[20],h=e[11],3==p)for(e=0;e<h;++e){var F=D[e+6],g=K+e*f+1,p=K+e*f+r;n(a,g,p)&&c(a,g,p,{score:F})}else if(2==p)for(e=0;e<h;++e)p=g[2*e+6]+1,m=p+r-1,F=D[2*e+7],n(a,p,m)&&c(a,p,m,{score:F});else if(1==p)for(e=0;e<h;++e)p=g[3*e+6]+1,m=g[3*e+7],F=D[3*e+8],p>m&&(p=m),n(a,p,m)&&c(a,p,m,{score:F});else console.log("Currently not handling bwgType="+
p);else if("bigbed"==this.bwg.type)for(e=0,r=this.bwg.definedFieldCount,K=this.bwg.schema;e<h.length;){a=h[e+3]<<24|h[e+2]<<16|h[e+1]<<8|h[e+0];p=h[e+7]<<24|h[e+6]<<16|h[e+5]<<8|h[e+4];m=h[e+11]<<24|h[e+10]<<16|h[e+9]<<8|h[e+8];e+=12;for(F="";;)if(f=h[e++],0!=f)F+=String.fromCharCode(f);else break;var f={},E;E=0<F.length?F.split("\t"):[];0<E.length&&3<r&&(f.label=E[0]);1<E.length&&4<r&&(F=parseInt(E[1]),isNaN(F)||(f.score=F));2<E.length&&5<r&&(f.orientation=E[2]);5<E.length&&8<r&&(F=E[5],x.test(F)&&
(f.itemRgb="rgb("+F+")"));if(E.length>r-3&&K)for(F=r-3;F<E.length;++F)f[K.fields[F+3].name]=E[F];if(n(a,p+1,m,E))if(12>r)c(a,p+1,m,f);else{var F=E[3]|0,v=E[4]|0,l=E[6]|0,t=E[7].split(","),B=E[8].split(",");f.exonFrames&&(D=f.exonFrames.split(","),f.exonFrames=void 0);f.type="transcript";var s=new b;for(g in f)s[g]=f[g];s.id=E[0];s.segment=this.bwg.idsToChroms[a];s.min=p+1;s.max=m;s.notes=[];f.groups=[s];if(9<E.length){var I=m=f.geneName||E[9];10<E.length&&(I=E[10]);f.geneName2&&(I=f.geneName2);E=
d(s);E.id=m;E.label=I;E.type="gene";f.groups.push(E)}m=[];for(E=0;E<l;++E)s=(B[E]|0)+p,s=new C(s,s+(t[E]|0)),m.push(s);t=z(m);l=t.ranges();for(p=0;p<l.length;++p)m=l[p],c(a,m.min()+1,m.max(),f);if(v>F&&(p="+"==f.orientation?new C(F,v+3):new C(F-3,v),p=q(t,p))){f.type="translation";F=p.ranges();for(t=v=0;F[0].min()>l[t].max();)t++;for(p=0;p<F.length;++p)l=p,"-"==f.orientation&&(l=F.length-p-1),m=F[l],f.readframe=v,D&&(l=parseInt(D[l+t]),"number"===typeof l&&0<=l&&2>=l&&(f.readframe=l,f.readframeExplicit=
!0)),l=m.max()-m.min(),v=(v+l)%3,c(a,m.min()+1,m.max(),f)}}}else throw Error("Don't know what to do with "+this.bwg.type);};A.prototype.getFirstAdjacent=function(a,c,n,h){a=this.bwg.chromsToIDs[a];if(void 0===a)return h([]);this.getFirstAdjacentById(a,c,n,h)};A.prototype.getFirstAdjacentById=function(a,c,n,h){var e=this;if(this.cirHeader){var g=null,b=-1,p=-1,m=0;Date.now();var d=function(c,n){m+=c.length;for(var h=4+32*e.cirBlockSize,a,g=0;g<c.length;++g){var b=new C(c[g],c[g]+h);a=a?z(a,b):b}h=
a.ranges();for(a=0;a<h.length;++a)f(c,h[a],n)},f=function(b,p,d,f){p.max();p.min();e.bwg.data.slice(p.min(),p.max()-p.min()).fetch(function(f){for(var D=0;D<b.length;++D)if(p.contains(b[D])&&(r(f,b[D]-p.min(),d),--m,0==m)){if(!g)return 0<n&&(0!=a||0<c)?e.getFirstAdjacentById(0,0,n,h):0>n&&(a!=e.bwg.maxID||1E9>c)?e.getFirstAdjacentById(e.bwg.maxID,1E9,n,h):h([]);e.fetchFeatures(function(h,e,g,b){return 0>n&&(h<a||g<c)||0<n&&(h>a||e>c)},[g],function(c){for(var e=null,a=-1,g=-1,b=0;b<c.length;++b){var p=
c[b],m=p._chromId,k=p.min,d=p.max;if(null==e||0>n&&(m>a||d>g)||0<n&&(m<a||k<g))e=p,g=0>n?d:k,a=m}return null!=e?h([e]):h([])})}})},r=function(h,m,f){var r=new Uint8Array(h),K=new Int16Array(h);h=new Int32Array(h);var v=r[m],K=K[m/2+1];m+=4;if(0!=v)for(v=0;v<K;++v){var l=m/4,x=h[l],t=h[l+1],q=h[l+2],B=h[l+3],l=s(r,m+16);f=s(r,m+24);(0>n&&(x<a||x==a&&t<=c)||0<n&&(q>a||q==a&&B>=c))&&!/_random/.exec(e.bwg.idsToChroms[x])&&(null==g||0>n&&(q>b||q==b&&B>p)||0<n&&(x<b||x==b&&t<p))&&(g={offset:l,size:f},p=
0>n?B:t,b=0>n?q:x);m+=32}else{for(var R=r=-1,v=0;v<K;++v){l=m/4;x=h[l];t=h[l+1];q=h[l+2];B=h[l+3];l=h[l+4]<<32|h[l+5];if(0>n&&(x<a||x==a&&t<=c)&&q>=a||0<n&&(q>a||q==a&&B>=c)&&x<=a)if(0>r||B>R)r=l,R=0>n?B:t;m+=24}0<=r&&d([r],f+1)}};d([e.cirTreeOffset+48],1)}else this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(g){e.cirHeader=g;g=new Int32Array(e.cirHeader);e.cirBlockSize=g[1];e.getFirstAdjacentById(a,c,n,h)})};w.prototype.readWigData=function(a,c,n,h){this.getUnzoomedView().readWigData(a,
c,n,h)};w.prototype.getUnzoomedView=function(){if(!this.unzoomedView){var a=4E3;this.zoomLevels[0]&&(a=this.zoomLevels[0].dataOffset-this.unzoomedIndexOffset);this.unzoomedView=new A(this,this.unzoomedIndexOffset,a,!1)}return this.unzoomedView};w.prototype.getZoomedView=function(a){a=this.zoomLevels[a];a.view||(a.view=new A(this,a.indexOffset,4E3,!0));return a.view};w.prototype._tsFetch=function(a,c,n,h,e){var g=this;if(a>=this.zoomLevels.length-1){if(this.topLevelReductionCache){for(var b=[],p=this.topLevelReductionCache,
m=0;m<p.length;++m)p[m]._chromId==c&&b.push(p[m]);return e(b)}this.getZoomedView(this.zoomLevels.length-1).readWigDataById(-1,0,3E8,function(b){g.topLevelReductionCache=b;return g._tsFetch(a,c,n,h,e)})}else return(0>a?this.getUnzoomedView():this.getZoomedView(a)).readWigDataById(c,n,h,e)};w.prototype.thresholdSearch=function(a,c,n,h,e){function g(){if(0==p.length)return e(null);p.sort(function(c,h){var a=c.zoom-h.zoom;if(0!=a)return a;a=c.chrOrd-h.chrOrd;return 0!=a?a:c.min-h.min*n});var a=p.splice(0,
1)[0];b._tsFetch(a.zoom,a.chr,a.min,a.max,function(b){var m=0<n?0:3E8;a.fromRef&&(m=c);for(var d=0;d<b.length;++d){var f=b[d],k;k=void 0!=f.maxScore?f.maxScore:f.score;if(0<n){if(k>h)if(0>a.zoom){if(f.min>m)return e(f)}else f.max>m&&p.push({chr:a.chr,chrOrd:a.chrOrd,zoom:a.zoom-2,min:f.min,max:f.max,fromRef:a.fromRef})}else if(k>h)if(0>a.zoom){if(f.max<m)return e(f)}else f.min<m&&p.push({chr:a.chr,chrOrd:a.chrOrd,zoom:a.zoom-2,min:f.min,max:f.max,fromRef:a.fromRef})}g()})}n=0>n?-1:1;var b=this;a=
this.chromsToIDs[a];for(var p=[{chrOrd:0,chr:a,zoom:b.zoomLevels.length-4,min:0,max:3E8,fromRef:!0}],m=1;m<=this.maxID+1;++m){var d=(a+n*m)%(this.maxID+1);0>d&&(d+=this.maxID+1);p.push({chrOrd:m,chr:d,zoom:b.zoomLevels.length-1,min:0,max:3E8})}g()};w.prototype.getAutoSQL=function(a){if(!this.asOffset)return a(null);this.data.slice(this.asOffset,2048).fetch(function(c){var n=new Uint8Array(c);c="";for(var h=0;h<n.length&&0!=n[h];++h)c+=String.fromCharCode(n[h]);var n=/([\w\[\]]+)\s+(\w+)\s*;\s*("([^"]+)")?\s*/g,
e=/(\w+)\s+(\w+)\s+("([^"]+)")?\s+\(\s*/.exec(c);if(e){h={declType:e[1],name:e[2],comment:e[4],fields:[]};c=c.substring(e[0]);for(e=n.exec(c);null!=e;e=n.exec(c))h.fields.push({type:e[1],name:e[2],comment:e[4]});return a(h)}})};w.prototype.getExtraIndices=function(a){var c=this;if(4>this.version||0==this.extHeaderOffset||"bigbed"!=this.type)return a(null);this.data.slice(this.extHeaderOffset,64).fetch(function(n){if(!n)return a(null,"Couldn't fetch extension header");var h=new Uint8Array(n),e=new Int16Array(n);
new Int32Array(n);var g=e[1];n=s(h,4);if(0==g)return a(null);c.data.slice(n,20*g).fetch(function(n){if(!n)return a(null,"Couldn't fetch index info");var h=new Uint8Array(n),e=new Int16Array(n);new Int32Array(n);n=[];for(var b=0;b<g;++b){var f=e[10*b],d=e[10*b+1],r=s(h,20*b+4),f=new H(c,f,d,r,e[10*b+8]);n.push(f)}a(n)})})};H.prototype.lookup=function(a,c){var n=this;this.bbi.data.slice(this.offset,32).fetch(function(h){function e(h){n.bbi.data.slice(h,4+f*(p+m)).fetch(function(h){var b=new Uint8Array(h),
g=new Uint16Array(h);new Uint32Array(h);g=g[1];h=4;if(0==b[0]){for(var f=null,d=0;d<g;++d){for(var r="",D=0;D<p;++D){var v=b[h++];0!=v&&(r+=String.fromCharCode(v))}D=s(b,h);h+=8;if(0>a.localeCompare(r)&&f){e(f);return}f=D}e(f)}else{for(d=0;d<g;++d){r="";for(D=0;D<p;++D)v=b[h++],0!=v&&(r+=String.fromCharCode(v));if(r==a)return g=s(b,h),b=l(b,h+8),n.bbi.getUnzoomedView().fetchFeatures(function(c,h,e,b){if(b&&b.length>n.field-3)return b[n.field-3]==a},[{offset:g,size:b}],c);h+=m}return c([])}})}var b=
new Uint8Array(h);new Int16Array(h);h=new Int32Array(h);var f=h[1],p=h[2],m=h[3];s(b,16);e(n.offset+32)})};"undefined"!==typeof J&&(J.exports={makeBwg:u,BIG_BED_MAGIC:P,BIG_WIG_MAGIC:B})},{"./bin":3,"./das":5,"./spans":9,"./utils":10,jszlib:11}],3:[function(y,J,L){function s(a){this.blob=a}function w(a,b,d,l){l||("object"===typeof b?(l=b,b=void 0):l={});this.url=a;this.start=b||0;d&&(this.end=d);this.opts=l}function A(a){if(!a)return null;for(var b=new Uint8Array(a.length),d=0;d<b.length;++d)b[d]=
a.charCodeAt(d);return b.buffer}function u(a,b){return a[b+7]<<24|a[b+6]<<16|a[b+5]<<8|a[b+4]}function H(a,b){return a[b+3]<<24|a[b+2]<<16|a[b+1]<<8|a[b]}function C(a,b){return a[b+1]<<8|a[b]}function z(a,b){return a[b]}function q(a,b){return a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3]}if("undefined"!==typeof y)var a=y("./utils").shallowCopy,b=y("./sha1").b64_sha1;s.prototype.slice=function(a,b){var d;d=this.blob.slice?b?this.blob.slice(a,a+b):this.blob.slice(a):b?this.blob.webkitSlice(a,a+b):this.blob.webkitSlice(a);
return new s(d)};s.prototype.salted=function(){return this};s.prototype.fetch="undefined"!==typeof FileReader?function(a){var b=new FileReader;b.onloadend=function(d){a(A(b.result))};b.readAsBinaryString(this.blob)}:function(a){var b=new FileReaderSync;try{var d=b.readAsArrayBuffer(this.blob);a(d)}catch(l){a(null,l)}};w.prototype.slice=function(a,b){if(0>a)throw"Bad slice "+a;var d=this.start,l=this.end,d=d&&a?d+a:a||d;return new w(this.url,d,b&&d?d+b-1:l||b-1,this.opts)};var d=0,l=0<=navigator.userAgent.indexOf("Safari")&&
0>navigator.userAgent.indexOf("Chrome");w.prototype.fetchAsText=function(a){var r=new XMLHttpRequest,q=this.url;if(l||this.opts.salt)q=q+"?salt="+b(""+Date.now()+","+ ++d);r.open("GET",q,!0);if(this.end){if(1E8<this.end-this.start)throw"Monster fetch!";r.setRequestHeader("Range","bytes="+this.start+"-"+this.end)}r.onreadystatechange=function(){if(4==r.readyState)return 200==r.status||206==r.status?a(r.responseText):a(null)};this.opts.credentials&&(r.withCredentials=!0);r.send("")};w.prototype.salted=
function(){var b=a(this.opts);b.salt=!0;return new w(this.url,this.start,this.end,b)};w.prototype.fetch=function(a,r,q){var s=this;r=r||1;if(3<r)return a(null);var u=new XMLHttpRequest,w,t=this.url;if(l||this.opts.salt)t=t+"?salt="+b(""+Date.now()+","+ ++d);u.open("GET",t,!0);u.overrideMimeType("text/plain; charset=x-user-defined");if(this.end){if(1E8<this.end-this.start)throw"Monster fetch!";u.setRequestHeader("Range","bytes="+this.start+"-"+this.end);w=this.end-this.start+1}u.responseType="arraybuffer";
u.onreadystatechange=function(){if(4==u.readyState){if(200==u.status||206==u.status){if(u.response){var b=u.response.byteLength;return!w||w==b||q&&b==q?a(u.response):s.fetch(a,r+1,b)}if(u.mozResponseArrayBuffer)return a(u.mozResponseArrayBuffer);b=u.responseText;return!w||w==b.length||q&&b.length==q?a(A(u.responseText)):s.fetch(a,r+1,b.length)}return s.fetch(a,r+1)}};this.opts.credentials&&(u.withCredentials=!0);u.send("")};(function(a){var b=new ArrayBuffer(8),d=new Uint8Array(b),l=new Float32Array(b);
a.readFloat=function(a,b){d[0]=a[b];d[1]=a[b+1];d[2]=a[b+2];d[3]=a[b+3];return l[0]}})(this);"undefined"!==typeof J&&(J.exports={BlobFetchable:s,URLFetchable:w,readInt:H,readIntBE:q,readInt64:u,readShort:C,readByte:z,readFloat:this.readFloat})},{"./sha1":8,"./utils":10}],4:[function(y,J,L){function s(a,b,d,l){this.red=a|0;this.green=b|0;this.blue=d|0;l&&(this.name=l)}function w(a){a="00"+a.toString(16);return a.substring(a.length-2)}function A(a){var b=C[a];b||((b=z.exec(a))?b=new s("0x"+b[1]|0,"0x"+
b[2]|0,"0x"+b[3]|0,a):(b=q.exec(a))?b=new s(b[1]|0,b[2]|0,b[3]|0,a):(console.log("couldn't handle color: "+a),b=C.black),C[a]=b);return b}function u(a,b,d){for(var l=[],f=0;f<d.length;++f)l.push(A(d[f]));d=[];f=0;a:for(;f<a;++f){for(var r=b[0]+1*f/(a-1)*(b[b.length-1]-b[0]),q=0;q<b.length-1;++q)if(r>=b[q]&&r<=b[q+1]){var r=(r-b[q])/(b[q+1]-b[q]),u=l[q],q=l[q+1],q=(new s(u.red*(1-r)+q.red*r|0,u.green*(1-r)+q.green*r|0,u.blue*(1-r)+q.blue*r|0)).toSvgString();d.push(q);continue a}throw"Bad step";}return d}
function H(a,b,d,l){return l?u(a,[0,0.5,1],[b,d,l]):u(a,[0,1],[b,d])}s.prototype.toSvgString=function(){this.name||(this.name="rgb("+this.red+","+this.green+","+this.blue+")");return this.name};s.prototype.toHexString=function(){return"#"+w(this.red)+w(this.green)+w(this.blue)};var C={red:new s(255,0,0,"red"),green:new s(0,255,0,"green"),blue:new s(0,0,255,"blue"),yellow:new s(255,255,0,"yellow"),white:new s(255,255,255,"white"),black:new s(0,0,0,"black"),gray:new s(180,180,180,"gray"),grey:new s(180,
180,180,"grey"),lightskyblue:new s(135,206,250,"lightskyblue"),lightsalmon:new s(255,160,122,"lightsalmon"),hotpink:new s(255,105,180,"hotpink")},z=/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/,q=/rgb\(([0-9]+),([0-9]+),([0-9]+)\)/;"undefined"!==typeof J&&(J.exports={makeColourSteps:u,makeGradient:H,dasColourForName:A})},{}],5:[function(y,J,L){function s(a,b,c,n){this.name=a;this.start=b;this.end=c;this.description=n}function w(a,b){var c;"string"==typeof a?(this.uri=a,c=b||{}):c=a||{};for(var n in c)"function"!=
typeof c[n]&&(this[n]=c[n]);this.coords||(this.coords=[]);this.props||(this.props={});(this.dasBaseURI=this.uri)&&"/"!=this.dasBaseURI.substr(this.uri.length-1)&&(this.dasBaseURI+="/")}function A(){}function u(a,b){return a.taxon==b.taxon&&a.auth==b.auth&&a.version==b.version}function H(a,b,c,n,h){this.name=a;this.start=b;this.end=c;this.alphabet=n;this.seq=h}function C(){}function z(a){a&&(this.id=a)}function q(a,b){this.desc=a;this.uri=b}function a(a){this.type=a;this.objects={};this.blocks=[]}
function b(){this.styles=[]}function d(){}function l(a,b){b=b||{};this.uri=a;this.opts=b}function f(a,b){var c=a.getElementsByTagName(b);if(0<c.length&&c[0].firstChild){c=c[0];if(1==c.childNodes.length)return c.firstChild.nodeValue;for(var n="",h=0;h<c.childNodes.length;++h)n+=c.childNodes[h].nodeValue;return n}return null}function r(a){for(var b=[],c=a.getElementsByTagName("LINK"),n=0;n<c.length;++n){var h=c[n];h.parentNode==a&&b.push(new q(h.firstChild?h.firstChild.nodeValue:"Unknown",h.getAttribute("href")))}return b}
function B(a){var b=[];a=a.getElementsByTagName("NOTE");for(var c=0;c<a.length;++c)a[c].firstChild&&b.push(a[c].firstChild.nodeValue);return b}function O(a,b,c,n){if(window.XDomainRequest){var h=new XDomainRequest;h.onload=function(){var c=new ActiveXObject("Microsoft.XMLDOM");c.async=!1;c.loadXML(h.responseText);b(c)};h.open("get",a)}else Date.now(),h=new XMLHttpRequest,h.onreadystatechange=function(){4==h.readyState&&(200<=h.status||0==h.status)&&b(h.responseXML,h)},h.open("get",a,!0),c&&(h.withCredentials=
!0),n&&h.setRequestHeader("X-DAS-Authorisation",n),h.overrideMimeType("text/xml"),h.setRequestHeader("Accept","application/xml,*/*");h.send("")}function P(a){a=(""+a).toLowerCase();return"yes"===a||"true"===a}function Q(a){if(!a)return!1;a=(""+a).toLowerCase();return"no"!==a||"false"!==a}function t(a){var b=I(a);b.styles=[];for(var c=0;c<a.styles.length;++c){var n=b.styles[c]=I(a.styles[c]);n._methodRE=n._labelRE=n._typeRE=void 0;n.style=I(n.style);n.style.id=void 0;n.style._gradient=void 0}return b}
if("undefined"!==typeof y){L=y("./utils");var I=L.shallowCopy,v=L.pusho,N=y("./color").makeColourSteps}s.prototype.toString=function(){return this.name+":"+this.start+".."+this.end};s.prototype.isBounded=function(){return this.start&&this.end};s.prototype.toDASQuery=function(){var a="segment="+this.name;this.start&&this.end&&(a+=":"+this.start+","+this.end);return a};w.prototype.entryPoints=function(a){this.doCrossDomainRequest(this.dasBaseURI+"entry_points",function(b){if(!b)return a([]);var c=[];
b=b.getElementsByTagName("SEGMENT");for(var n=0;n<b.length;++n){var h=b[n],e=h.getAttribute("id"),g=h.getAttribute("size"),d;g?(d=1,g|=0):((d=h.getAttribute("start"))&&(d|=0),(g=h.getAttribute("stop"))&&(g|=0));var p=null;h.firstChild&&(p=h.firstChild.nodeValue);c.push(new s(e,d,g,p))}a(c)})};w.prototype.sequence=function(a,b){var c=this.dasBaseURI+"sequence?"+a.toDASQuery();this.doCrossDomainRequest(c,function(c){if(c){var a=[];c=c.getElementsByTagName("SEQUENCE");for(var e=0;e<c.length;++e){var g=
c[e],d=g.getAttribute("id"),p=g.getAttribute("start"),m=g.getAttribute("stop"),f=null;if(g.firstChild)for(var g=g.firstChild.nodeValue,f="",l=0;;){var r=g.indexOf("\n",l);if(0<=r)f+=g.substring(l,r).toUpperCase(),l=r+1;else{f+=g.substring(l).toUpperCase();break}}a.push(new H(d,p,m,"DNA",f))}b(a)}else b([])})};w.prototype.features=function(a,b,c){b=b||{};var n;if(this.features_uri)n=this.features_uri;else{var h=[];if(a)h.push(a.toDASQuery());else if(b.group)if(a=b.group,"string"==typeof a)h.push("group_id="+
a);else for(var e=0;e<a.length;++e)h.push("group_id="+a[e]);if(b.adjacent)for(a=b.adjacent,"string"==typeof a&&(a=[a]),e=0;e<a.length;++e)h.push("adjacent="+a[e]);if(b.type)if("string"==typeof b.type)h.push("type="+b.type);else for(a=0;a<b.type.length;++a)h.push("type="+b.type[a]);b.maxbins&&h.push("maxbins="+b.maxbins);0<h.length?n=this.dasBaseURI+"features?"+h.join(";"):c([],"No filters specified")}this.doCrossDomainRequest(n,function(a,n){if(a){for(var h=[],b={},e=a.getElementsByTagName("SEGMENT"),
d=0;d<e.length;++d){var l=e[d],v=l.getAttribute("id");b[v]={min:l.getAttribute("start"),max:l.getAttribute("stop")};for(var l=l.getElementsByTagName("FEATURE"),q=0;q<l.length;++q){var k=l[q],t=new C;t.segment=v;t.id=k.getAttribute("id");t.label=k.getAttribute("label");var s=f(k,"START"),u=f(k,"END");(s|0)>(u|0)?(t.min=u|0,t.max=s|0):(t.min=s|0,t.max=u|0);s=k.getElementsByTagName("TYPE");0<s.length&&(s=s[0],s.firstChild&&(t.type=s.firstChild.nodeValue),t.typeId=s.getAttribute("id"),t.typeCv=s.getAttribute("cvId"));
t.type=f(k,"TYPE");!t.type&&t.typeId&&(t.type=t.typeId);t.method=f(k,"METHOD");(s=f(k,"ORIENTATION"))||(s="0");t.orientation=s;t.score=f(k,"SCORE");t.links=r(k);t.notes=B(k);s=k.getElementsByTagName("GROUP");for(u=0;u<s.length;++u){var I=s[u],x=new z;x.type=I.getAttribute("type");x.id=I.getAttribute("id");x.links=r(I);x.notes=B(I);t.groups?t.groups.push(x):t.groups=Array(x)}if(t.notes)for(s=0;s<t.notes.length;++s)u=t.notes[s],0==u.indexOf("Genename=")&&(I=new z,I.type="gene",I.id=u.substring(9),t.groups?
t.groups.push(I):t.groups=Array(I));s=k.getElementsByTagName("PART");if(0<s.length){I=[];for(u=0;u<s.length;++u)I.push(s[u].getAttribute("id"));t.parts=I}s=k.getElementsByTagName("PARENT");if(0<s.length){k=[];for(u=0;u<s.length;++u)k.push(s[u].getAttribute("id"));t.parents=k}h.push(t)}}c(h,void 0,b)}else c([],"Failed request: "+(0==n.status?"server may not support CORS":"status="+n.status))},function(a){c([],a)})};w.prototype.alignments=function(b,d,c){var n=this.dasBaseURI+"alignment?query="+b;this.doCrossDomainRequest(n,
function(h){if(h){var b=[];h=h.getElementsByTagName("alignment");for(var g=0;g<h.length;++g){for(var d=h[g],p=new a(d.getAttribute("alignType")),m=d.getElementsByTagName("alignObject"),l=0;l<m.length;++l){var t=m[l],t={id:t.getAttribute("intObjectId"),accession:t.getAttribute("dbAccessionId"),version:t.getAttribute("objectVersion"),dbSource:t.getAttribute("dbSource"),dbVersion:t.getAttribute("dbVersion")};p.objects[t.id]=t}d=d.getElementsByTagName("block");for(m=0;m<d.length;++m){for(var t=d[m],l=
{order:t.getAttribute("blockOrder"),segments:[]},t=t.getElementsByTagName("segment"),r=0;r<t.length;++r){var k=t[r],k={object:k.getAttribute("intObjectId"),min:k.getAttribute("start"),max:k.getAttribute("end"),strand:k.getAttribute("strand"),cigar:f(k,"cigar")};l.segments.push(k)}p.blocks.push(l)}b.push(p)}c(b)}else c([],"Failed request "+n)})};b.prototype.pushStyle=function(a,b,c){a||(a={type:"default"});a=I(a);b&&(a.zoom=b);a.style=c;this.styles.push(a)};w.prototype.stylesheet=function(a,l){var c,
n=this.credentials;this.stylesheet_uri?(c=this.stylesheet_uri,n=!1):c=this.dasBaseURI+"stylesheet";O(c,function(c){if(c){var n=new b;c=c.getElementsByTagName("TYPE");for(var g=0;g<c.length;++g){var t=c[g],p={};p.type=t.getAttribute("id");p.label=t.getAttribute("label");p.method=t.getAttribute("method");for(var t=t.getElementsByTagName("GLYPH"),m=0;m<t.length;++m){var f=t[m],r=f.getAttribute("zoom"),v;a:{if(f.hasChildNodes()){f=f.firstChild;do{if(f.nodeType==Node.ELEMENT_NODE){v=f;break a}f=f.nextSibling}while(null!=
f)}v=null}f=new d;f.glyph=v.localName;for(v=v.firstChild;v;){if(v.nodeType==Node.ELEMENT_NODE)if("BGGRAD"==v.localName){var q=f,s=v.localName,u,I=v;u=(u=I.getAttribute("steps"))?u|0:50;for(var B=[],w=[],I=I.getElementsByTagName("STOP"),y=0;y<I.length;++y){var G=I[y];B.push(1*G.getAttribute("score"));w.push(G.firstChild.nodeValue)}u=N(u,B,w);q[s]=u}else f[v.localName]=v.firstChild.nodeValue;v=v.nextSibling}n.pushStyle(p,r,f)}}a(n)}else l&&l()},n)};l.prototype.sources=function(a,b,c){c||(c={});var n=
[];c.taxon&&n.push("organism="+c.taxon);c.auth&&n.push("authority="+c.auth);c.version&&n.push("version="+c.version);c=this.uri;0<n.length&&(c=c+"?"+n.join("&"));O(c,function(c){if(!c&&b)b();else{var n=[];c=c.getElementsByTagName("SOURCE");for(var g=0;g<c.length;++g){var d=c[g],p=d.getElementsByTagName("VERSION");if(!(1>p.length)){for(var m=p[0],t=m.getElementsByTagName("COORDINATES"),p=[],f=0;f<t.length;++f){var l=t[f],r=new A;r.auth=l.getAttribute("authority");r.taxon=l.getAttribute("taxid");r.version=
l.getAttribute("version");p.push(r)}for(var t=[],l=m.getElementsByTagName("CAPABILITY"),q,f=0;f<l.length;++f)r=l[f],t.push(r.getAttribute("type")),"das1:features"==r.getAttribute("type")&&(q=r.getAttribute("query_uri"),q=q.substring(0,q.length-8));f={};m=m.getElementsByTagName("PROP");for(l=0;l<m.length;++l)v(f,m[l].getAttribute("name"),m[l].getAttribute("value"));q&&(d=new w(q,{source_uri:d.getAttribute("uri"),name:d.getAttribute("title"),desc:d.getAttribute("description"),coords:p,props:f,capabilities:t}),
n.push(d))}}a(n)}})};w.prototype.doCrossDomainRequest=function(a,b,c){var n;this.xUser&&(n="Basic "+btoa(this.xUser+":"+this.xPass));try{return O(a,b,this.credentials,n)}catch(h){if(c)c(h);else throw h;}};"undefined"!==typeof J&&(J.exports={DASGroup:z,DASFeature:C,DASStylesheet:b,DASStyle:d,DASSource:w,DASSegment:s,DASRegistry:l,DASSequence:H,DASLink:q,isDasBooleanTrue:P,isDasBooleanNotFalse:Q,copyStylesheet:t,coordsMatch:u})},{"./color":4,"./utils":10}],6:[function(y,J,L){(function(s){function w(a){this.bam=
a}function A(a){this.bbi=a}var u=y("./bin"),H=y("./bam"),C=y("./bigwig"),z={},q=0;s.newID=function(){return"cn"+ ++q};postMessage({tag:"init"});self.onmessage=function(a){var b=a.data,d=a.data.command,l=a.data.tag;if("connectBAM"===d){var f=newID(),r;b.blob?(a=new u.BlobFetchable(b.blob),d=new u.BlobFetchable(b.indexBlob)):(a=new u.URLFetchable(b.uri,{credentials:b.credentials}),d=new u.URLFetchable(b.indexUri,{credentials:b.credentials}),r=b.indexChunks);H.makeBam(a,d,r,function(a,b){a?(z[f]=new w(a),
postMessage({tag:l,result:f})):postMessage({tag:l,error:b||"Couldn't fetch BAM"})})}else if("connectBBI"===d)f=newID(),r=b.blob?new u.BlobFetchable(b.blob):new u.URLFetchable(b.uri,{credentials:b.credentials}),C.makeBwg(r,function(a,b){a?(z[f]=new A(a),postMessage({tag:l,result:f})):postMessage({tag:l,error:b||"Couldn't fetch BBI"})},b.uri);else if("fetch"===d){r=z[a.data.connection];if(!r)return postMessage({tag:l,error:"No such connection: "+a.data.connection});r.fetch(b.tag,b.chr,b.min,b.max,b.zoom,
b.opts)}else if("leap"===d){r=z[a.data.connection];if(!r)return postMessage({tag:l,error:"No such connection: "+a.data.connection});r.leap(b.tag,b.chr,b.pos,b.dir)}else if("quantLeap"===d){r=z[a.data.connection];if(!r)return postMessage({tag:l,error:"No such connection: "+a.data.connection});r.quantLeap(b.tag,b.chr,b.pos,b.dir,b.threshold,b.under)}else if("meta"===d){r=z[a.data.connection];if(!r)return postMessage({tag:l,error:"No such connection: "+a.data.connection});r.meta(b.tag)}else if("search"===
d){r=z[a.data.connection];if(!r)return postMessage({tag:l,error:"No such connection: "+a.data.connection});r.search(b.tag,b.query,b.index)}else{if("date"===d)return postMessage({tag:l,result:Date.now()|0});postMessage({tag:l,error:"Bad command "+d})}};w.prototype.fetch=function(a,b,d,l,f,r){r=r||{};this.bam.fetch(b,d,l,function(b,d){b?postMessage({tag:a,result:b,time:Date.now()|0}):postMessage({tag:a,error:d})},r)};A.prototype.fetch=function(a,b,d,l,f){"number"!==typeof f&&(f=-1);(0>f?this.bbi.getUnzoomedView():
this.bbi.getZoomedView(f)).readWigData(b,d,l,function(b){postMessage({tag:a,result:b})})};A.prototype.meta=function(a){for(var b=[1],d=0;d<this.bbi.zoomLevels.length;++d)b.push(this.bbi.zoomLevels[d].reduction);var l=this,f={type:this.bbi.type,zoomLevels:b,fieldCount:this.bbi.fieldCount,definedFieldCount:this.bbi.definedFieldCount,schema:this.bbi.schema};"bigbed"===this.bbi.type?this.bbi.getExtraIndices(function(b){b&&(l.extraIndices=b,f.extraIndices=b.map(function(a){return a.field}));postMessage({tag:a,
result:f})}):postMessage({tag:a,result:f})};A.prototype.leap=function(a,b,d,l){this.bbi.getUnzoomedView().getFirstAdjacent(b,d,l,function(b,d){postMessage({tag:a,result:b,error:d})})};A.prototype.quantLeap=function(a,b,d,l,f,r){this.bbi.thresholdSearch(b,d,l,f,function(b,d){postMessage({tag:a,result:b,error:d})})};A.prototype.search=function(a,b,d){this.extraIndices[0].lookup(b,function(b,d){postMessage({tag:a,result:b,error:d})})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./bam":1,"./bigwig":2,"./bin":3}],7:[function(y,J,L){function s(a,b){this.block=a;this.offset=b}function w(a,b){var d=4294967296*(a[b+6]&255)+16777216*(a[b+5]&255)+65536*(a[b+4]&255)+256*(a[b+3]&255)+(a[b+2]&255),l=a[b+1]<<8|a[b];return 0==d&&0==l?null:new s(d,l)}function A(a,b){b=Math.min(b||1,a.byteLength-50);for(var d=[],l=[0],f=0;l[0]<b;){var r=new Uint8Array(a,l[0],12),r=r[11]<<8|r[10],r=z(a,12+r+l[0],Math.min(65536,a.byteLength-12-r-l[0]),l);l[0]+=8;f+=r.byteLength;d.push(r)}if(1==
d.length)return d[0];l=new Uint8Array(f);for(r=f=0;r<d.length;++r){var s=new Uint8Array(d[r]);q(s,0,l,f,s.length);f+=s.length}return l.buffer}function u(a,b){this.minv=a;this.maxv=b}function H(a,b){--b;return a>>14==b>>14?4681+(a>>14):a>>17==b>>17?585+(a>>17):a>>20==b>>20?73+(a>>20):a>>23==b>>23?9+(a>>23):a>>26==b>>26?1+(a>>26):0}function C(a,b){var d,l=[];--b;l.push(0);for(d=1+(a>>26);d<=1+(b>>26);++d)l.push(d);for(d=9+(a>>23);d<=9+(b>>23);++d)l.push(d);for(d=73+(a>>20);d<=73+(b>>20);++d)l.push(d);
for(d=585+(a>>17);d<=585+(b>>17);++d)l.push(d);for(d=4681+(a>>14);d<=4681+(b>>14);++d)l.push(d);return l}if("undefined"!==typeof y){y=y("jszlib");var z=y.inflateBuffer,q=y.arrayCopy}s.prototype.toString=function(){return""+this.block+":"+this.offset};"undefined"!==typeof J&&(J.exports={unbgzf:A,readVob:w,reg2bin:H,reg2bins:C,Chunk:u})},{jszlib:11}],8:[function(y,J,L){function s(q){q=A(u(q));for(var a=C?"0123456789ABCDEF":"0123456789abcdef",b="",d,l=0;l<q.length;l++)d=q.charCodeAt(l),b+=a.charAt(d>>>
4&15)+a.charAt(d&15);return b}function w(q){q=A(u(q));for(var a="",b=q.length,d=0;d<b;d+=3)for(var l=q.charCodeAt(d)<<16|(d+1<b?q.charCodeAt(d+1)<<8:0)|(d+2<b?q.charCodeAt(d+2):0),f=0;4>f;f++)a=8*d+6*f>8*q.length?a+z:a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>>6*(3-f)&63);return a}function A(q){for(var a=Array(q.length>>2),b=0;b<a.length;b++)a[b]=0;for(b=0;b<8*q.length;b+=8)a[b>>5]|=(q.charCodeAt(b/8)&255)<<24-b%32;q=8*q.length;a[q>>5]|=128<<24-q%32;a[(q+64>>9<<
4)+15]=q;q=Array(80);for(var b=1732584193,d=-271733879,l=-1732584194,f=271733878,r=-1009589776,s=0;s<a.length;s+=16){for(var u=b,w=d,y=l,t=f,I=r,v=0;80>v;v++){if(16>v)q[v]=a[s+v];else{var N=q[v-3]^q[v-8]^q[v-14]^q[v-16];q[v]=N<<1|N>>>31}var N=b<<5|b>>>27,x;x=20>v?d&l|~d&f:40>v?d^l^f:60>v?d&l|d&f|l&f:d^l^f;N=H(H(N,x),H(H(r,q[v]),20>v?1518500249:40>v?1859775393:60>v?-1894007588:-899497514));r=f;f=l;l=d<<30|d>>>2;d=b;b=N}b=H(b,u);d=H(d,w);l=H(l,y);f=H(f,t);r=H(r,I)}a=[b,d,l,f,r];q="";for(b=0;b<32*a.length;b+=
8)q+=String.fromCharCode(a[b>>5]>>>24-b%32&255);return q}function u(q){for(var a="",b=-1,d,l;++b<q.length;)d=q.charCodeAt(b),l=b+1<q.length?q.charCodeAt(b+1):0,55296<=d&&56319>=d&&56320<=l&&57343>=l&&(d=65536+((d&1023)<<10)+(l&1023),b++),127>=d?a+=String.fromCharCode(d):2047>=d?a+=String.fromCharCode(192|d>>>6&31,128|d&63):65535>=d?a+=String.fromCharCode(224|d>>>12&15,128|d>>>6&63,128|d&63):2097151>=d&&(a+=String.fromCharCode(240|d>>>18&7,128|d>>>12&63,128|d>>>6&63,128|d&63));return a}function H(q,
a){var b=(q&65535)+(a&65535);return(q>>16)+(a>>16)+(b>>16)<<16|b&65535}var C=0,z="";"undefined"!==typeof J&&(J.exports={b64_sha1:w,hex_sha1:s})},{}],9:[function(y,J,L){function s(q,a){if("number"!=typeof q||"number"!=typeof a)throw"Bad range "+q+","+a;this._min=q;this._max=a}function w(q){this._ranges=q}function A(q,a){q instanceof Array||(q=[q],a&&q.push(a));if(0==q.length)return null;if(1==q.length)return q[0];for(var b=[],d=0;d<q.length;++d)q[d]._pushRanges(b);for(var b=b.sort(z),d=[],l=b[0],l=
new s(l._min,l._max),f=1;f<b.length;++f){var r=b[f];r._min>l._max+1?(d.push(l),l=new s(r._min,r._max)):r._max>l._max&&(l._max=r._max)}d.push(l);return 1==d.length?d[0]:new w(d)}function u(q,a){for(var b=q.ranges(),d=a.ranges(),l=b.length,f=d.length,r=0,u=0,y=[];r<l&&u<f;){q=b[r];a=d[u];var A=Math.max(q.min(),a.min()),C=Math.min(q.max(),a.max());C>=A&&y.push(new s(A,C));q.max()>a.max()?++u:++r}return 0==y.length?null:1==y.length?y[0]:new w(y)}function H(q){var a=0;q=q.ranges();for(var b=0;b<q.length;++b)var d=
q[b],a=a+(d.max()-d.min()+1);return a}function C(q,a){return q.min()<a.min()?-1:q.min()>a.min()?1:q.max()<a.max()?-1:a.max()>q.max()?1:0}function z(q,a){return q._min<a._min?-1:q._min>a._min?1:q._max<a._max?-1:a._max>q._max?1:0}s.prototype.min=function(){return this._min};s.prototype.max=function(){return this._max};s.prototype.contains=function(q){return q>=this._min&&q<=this._max};s.prototype.isContiguous=function(){return!0};s.prototype.ranges=function(){return[this]};s.prototype._pushRanges=function(q){q.push(this)};
s.prototype.toString=function(){return"["+this._min+"-"+this._max+"]"};w.prototype.min=function(){return this._ranges[0].min()};w.prototype.max=function(){return this._ranges[this._ranges.length-1].max()};w.prototype.contains=function(q){for(var a=0;a<this._ranges.length;++a)if(this._ranges[a].contains(q))return!0;return!1};w.prototype.isContiguous=function(){return 1<this._ranges.length};w.prototype.ranges=function(){return this._ranges};w.prototype._pushRanges=function(q){for(var a=0;a<this._ranges.length;++a)q.push(this._ranges[a])};
w.prototype.toString=function(){for(var q="",a=0;a<this._ranges.length;++a)0<a&&(q+=","),q+=this._ranges[a].toString();return q};"undefined"!==typeof J&&(J.exports={Range:s,union:A,intersection:u,coverage:H,rangeOver:C,_rangeOrder:z})},{}],10:[function(y,J,L){function s(a,b){for(var d=0;d<a.length;++d)if(a[d]==b)return;a.push(b)}function w(a,b,d){a[b]?a[b].push(d):a[b]=[d]}function A(a,b,d){var l=a[b];if(l){for(a=0;a<l.length;++a)if(l[a]==d)return;l.push(d)}else a[b]=[d]}function u(a,b,d,l){if(a)return a;
if(b)return b;if(d)return d;if(l)return l}function s(a,b){for(var d=0;d<a.length;++d)if(a[d]==b)return;a.push(b)}function H(a,b){if(!a)return-1;for(var d=0;d<a.length;++d)if(a[d]===b)return d;return-1}function C(a,b,d,l){a=document.createElement(a);if(b){b instanceof Array||(b=[b]);for(var f=0;f<b.length;++f){var r=b[f];r&&("string"==typeof r?r=document.createTextNode(r):"number"==typeof r&&(r=document.createTextNode(""+r)),a.appendChild(r))}}if(d)for(var c in d)try{a[c]=d[c]}catch(n){throw console.log("error setting "+
c),n;}if(l)for(c in l)a.style[c]=l[c];return a}function z(a,b,d,l){a=document.createElementNS(a,b);if(d)for(d instanceof Array||(d=[d]),b=0;b<d.length;++b){var f=d[b];"string"==typeof f&&(f=document.createTextNode(f));a.appendChild(f)}if(l)for(var r in l){d=a;b=r;var f=l[r],c=P[b];if(!c){for(var c="",n=0;n<b.length;++n)var h=b.substring(n,n+1),e=h.toLowerCase(),c=e!=h?c+"-"+e:c+h;P[b]=c}d.setAttribute(c,f)}return a}function q(a){if(a&&a.childNodes)for(;0<a.childNodes.length;)a.removeChild(a.firstChild)}
function a(b,d){if("undefined"===typeof b)return"undefined";if(null==b)return"null";if("string"==typeof b)return"'"+b+"'";if("number"==typeof b||"boolean"==typeof b)return""+b;if("object"==typeof b){if(b instanceof Array){for(var l=null,f=0;f<b.length;++f)l=(null==l?"":l+", ")+a(b[f],d);return"["+(l?l:"")+"]"}d=d||{};l=null;for(f in b)d[f]||void 0!=f&&"function"!=typeof b[f]&&(l=(null==l?"":l+", ")+f+": "+a(b[f],d));return"{"+(l?l:"")+"}"}return typeof b}function b(a){var b={},d;for(d in a)b[d]=a[d];
return b}function d(a){this.value=a;this.listeners=[]}function l(){this.queue=[]}function f(a,b,d){d.salt&&(a=a+"?salt="+O(""+Date.now()+","+ ++Q));var l=new XMLHttpRequest;l.onreadystatechange=function(){4==l.readyState&&(300<=l.status?b(null,"Error code "+l.status):b(l.responseText))};l.open("GET",a,!0);l.responseType="text";d&&d.credentials&&(l.withCredentials=!0);l.send("")}function r(a,b){if(0==b.indexOf("http:")||0==b.indexOf("https:"))return b;var d=a.lastIndexOf("/");return 0<=d?a.substr(0,
d+1)+b:b}function B(a){return C("a",null,{href:a}).href}if("undefined"!==typeof y)var O=y("./sha1").b64_sha1;var P={};d.prototype.addListener=function(a){this.listeners.push(a)};d.prototype.addListenerAndFire=function(a){this.listeners.push(a);a(this.value)};d.prototype.removeListener=function(a){var b=this.listeners;a=H(b,a);0<=a&&b.splice(a,1)};d.prototype.get=function(){return this.value};d.prototype.set=function(a){this.value=a;for(var b=0;b<this.listeners.length;++b)this.listeners[b](a)};l.prototype.provide=
function(a){if(void 0!==this.res)throw"Resource has already been provided.";this.res=a;for(var b=0;b<this.queue.length;++b)this.queue[b](a);this.queue=null};l.prototype.await=function(a){if(void 0!==this.res)return a(this.res),this.res;this.queue.push(a)};var Q=0;y={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",
GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"*",TAG:"*",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"*",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"};"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});"undefined"!==typeof J&&(J.exports={textXHR:f,relativeURL:r,resolveUrlToPage:B,shallowCopy:b,pusho:w,pushnew:s,pushnewo:A,
arrayIndexOf:H,pick:u,makeElement:C,makeElementNS:z,removeChildren:q,miniJSONify:a,Observed:d,Awaited:l,AMINO_ACID_TRANSLATION:y})},{"./sha1":8}],11:[function(y,J,L){function s(){}function w(){this.was=[0]}function A(c,b,h){this.hufts=new Int32Array(3*a);this.window=new Uint8Array(h);this.end=h;this.checkfn=b;this.mode=B;this.reset(c,null);this.index=this.table=this.left=0;this.blens=null;this.bb=new Int32Array(1);this.tb=new Int32Array(1);this.codes=new u;this.check=this.write=this.read=this.bitb=
this.bitk=this.last=0;this.inftree=new H}function u(){}function H(){}function C(c,a,b,e,d){if(0!=d){if(!c)throw"Undef src";if(!b)throw"Undef dest";if(0==a&&d==c.length)b.set(c,e);else if(k)c=c.subarray(a,a+d),b.set(c,e);else if(1==c.BYTES_PER_ELEMENT&&100<d)c=new Uint8Array(c.buffer,c.byteOffset+a,d),b.set(c,e);else for(var l=0;l<d;++l)b[e+l]=c[a+l]}}function z(c,a,h,e){c=a?h?new Uint8Array(c,a,h):new Uint8Array(c,a,c.byteLength-a):new Uint8Array(c);h=new s;h.inflateInit(q,!0);h.next_in=c;h.next_in_index=
0;h.avail_in=c.length;c=[];for(var g=0;;){var r=new Uint8Array(32E3);h.next_out=r;h.next_out_index=0;h.avail_out=r.length;var p=h.inflate(b);if(p!=d&&p!=l&&p!=f)throw h.msg;if(0!=h.avail_out){var m=new Uint8Array(r.length-h.avail_out);C(r,0,m,0,r.length-h.avail_out);r=m}c.push(r);g+=r.length;if(p==l||p==f)break}e&&(e[0]=(a||0)+h.next_in_index);if(1==c.length)return c[0].buffer;a=new Uint8Array(g);for(h=e=0;h<c.length;++h)g=c[h],C(g,0,a,e,g.length),e+=g.length;return a.buffer}var q=15,a=1440,b=0,d=
0,l=1,f=-5,r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],B=0,O=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,
60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,
0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,
9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,
0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,
7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,
85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,
8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],P=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,
65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],I=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,
24577],v=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];s.prototype.inflateInit=function(c,a){c||(c=q);a&&(a=!1);this.istate=new w;return this.istate.inflateInit(this,a?-c:c)};s.prototype.inflate=function(c){return null==this.istate?-2:this.istate.inflate(this,c)};s.prototype.inflateEnd=function(){if(null==this.istate)return-2;var c=istate.inflateEnd(this);this.istate=null;return c};s.prototype.inflateSync=function(){return istate.inflateSync(this)};s.prototype.inflateSetDictionary=
function(c,a){return istate.inflateSetDictionary(this,c,a)};w.prototype.inflateReset=function(c){if(null==c||null==c.istate)return-2;c.total_in=c.total_out=0;c.msg=null;c.istate.mode=0!=c.istate.nowrap?7:0;c.istate.blocks.reset(c,null);return d};w.prototype.inflateEnd=function(c){null!=this.blocks&&this.blocks.free(c);this.blocks=null;return d};w.prototype.inflateInit=function(c,a){this.blocks=c.msg=null;nowrap=0;0>a&&(a=-a,nowrap=1);if(8>a||15<a)return this.inflateEnd(c),-2;this.wbits=a;c.istate.blocks=
new A(c,0!=c.istate.nowrap?null:this,1<<a);this.inflateReset(c);return d};w.prototype.inflate=function(c,a){var b,e;if(null==c||null==c.istate||null==c.next_in)return-2;a=4==a?f:d;for(b=f;;)switch(c.istate.mode){case 0:if(0==c.avail_in)return b;b=a;c.avail_in--;c.total_in++;if(8!=((c.istate.method=c.next_in[c.next_in_index++])&15)){c.istate.mode=13;c.msg="unknown compression method";c.istate.marker=5;break}if((c.istate.method>>4)+8>c.istate.wbits){c.istate.mode=13;c.msg="invalid window size";c.istate.marker=
5;break}c.istate.mode=1;case 1:if(0==c.avail_in)return b;b=a;c.avail_in--;c.total_in++;e=c.next_in[c.next_in_index++]&255;if(0!=((c.istate.method<<8)+e)%31){c.istate.mode=13;c.msg="incorrect header check";c.istate.marker=5;break}if(0==(e&32)){c.istate.mode=7;break}c.istate.mode=2;case 2:if(0==c.avail_in)return b;b=a;c.avail_in--;c.total_in++;c.istate.need=(c.next_in[c.next_in_index++]&255)<<24&4278190080;c.istate.mode=3;case 3:if(0==c.avail_in)return b;b=a;c.avail_in--;c.total_in++;c.istate.need+=
(c.next_in[c.next_in_index++]&255)<<16&16711680;c.istate.mode=4;case 4:if(0==c.avail_in)return b;b=a;c.avail_in--;c.total_in++;c.istate.need+=(c.next_in[c.next_in_index++]&255)<<8&65280;c.istate.mode=5;case 5:if(0==c.avail_in)return b;c.avail_in--;c.total_in++;c.istate.need+=c.next_in[c.next_in_index++]&255;c.adler=c.istate.need;c.istate.mode=6;return 2;case 6:return c.istate.mode=13,c.msg="need dictionary",c.istate.marker=0,-2;case 7:b=c.istate.blocks.proc(c,b);if(-3==b){c.istate.mode=13;c.istate.marker=
0;break}b==d&&(b=a);if(b!=l)return b;b=a;c.istate.blocks.reset(c,c.istate.was);if(0!=c.istate.nowrap){c.istate.mode=12;break}c.istate.mode=8;case 8:if(0==c.avail_in)return b;b=a;c.avail_in--;c.total_in++;c.istate.need=(c.next_in[c.next_in_index++]&255)<<24&4278190080;c.istate.mode=9;case 9:if(0==c.avail_in)return b;b=a;c.avail_in--;c.total_in++;c.istate.need+=(c.next_in[c.next_in_index++]&255)<<16&16711680;c.istate.mode=10;case 10:if(0==c.avail_in)return b;b=a;c.avail_in--;c.total_in++;c.istate.need+=
(c.next_in[c.next_in_index++]&255)<<8&65280;c.istate.mode=11;case 11:if(0==c.avail_in)return b;b=a;c.avail_in--;c.total_in++;c.istate.need+=c.next_in[c.next_in_index++]&255;if(c.istate.was[0]!=c.istate.need){c.istate.mode=13;c.msg="incorrect data check";c.istate.marker=5;break}c.istate.mode=12;case 12:return l;case 13:return-3;default:return-2}};w.prototype.inflateSetDictionary=function(c,a,b){var e=0,g=b;if(null==c||null==c.istate||6!=c.istate.mode)return-2;if(c._adler.adler32(1,a,0,b)!=c.adler)return-3;
c.adler=c._adler.adler32(0,null,0,0);g>=1<<c.istate.wbits&&(g=(1<<c.istate.wbits)-1,e=b-g);c.istate.blocks.set_dictionary(a,e,g);c.istate.mode=7;return d};var N=[0,0,255,255];w.prototype.inflateSync=function(c){var a,b,e;if(null==c||null==c.istate)return-2;13!=c.istate.mode&&(c.istate.mode=13,c.istate.marker=0);if(0==(a=c.avail_in))return f;b=c.next_in_index;for(e=c.istate.marker;0!=a&&4>e;)c.next_in[b]==N[e]?e++:e=0!=c.next_in[b]?0:4-e,b++,a--;c.total_in+=b-c.next_in_index;c.next_in_index=b;c.avail_in=
a;c.istate.marker=e;if(4!=e)return-3;a=c.total_in;b=c.total_out;this.inflateReset(c);c.total_in=a;c.total_out=b;c.istate.mode=7;return d};w.prototype.inflateSyncPoint=function(c){return null==c||null==c.istate||null==c.istate.blocks?-2:c.istate.blocks.sync_point()};var x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];A.prototype.reset=function(c,a){a&&(a[0]=this.check);6==this.mode&&this.codes.free(c);this.mode=B;this.read=this.write=this.bitb=this.bitk=0;this.checkfn&&(c.adler=this.check=c._adler.adler32(0,
null,0,0))};A.prototype.proc=function(c,a){var b,e,g,f,p,m,q;f=c.next_in_index;p=c.avail_in;e=this.bitb;g=this.bitk;m=this.write;for(q=m<this.read?this.read-m-1:this.end-m;;)switch(this.mode){case B:for(;3>g;){if(0!=p)a=d;else return this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);p--;e|=(c.next_in[f++]&255)<<g;g+=8}b=e&7;this.last=b&1;switch(b>>>1){case 0:e>>>=3;g-=3;b=g&7;e>>>=b;g-=b;this.mode=1;break;case 1:var k=new Int32Array(1),
s=new Int32Array(1),u=[],v=[];b=s;var t=u,w=v;k[0]=9;b[0]=5;t[0]=O;w[0]=P;this.codes.init(k[0],s[0],u[0],0,v[0],0,c);e>>>=3;g-=3;this.mode=6;break;case 2:e>>>=3;g-=3;this.mode=3;break;case 3:return e>>>=3,g-=3,this.mode=13,c.msg="invalid block type",a=-3,this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a)}break;case 1:for(;32>g;){if(0!=p)a=d;else return this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=
f,this.write=m,this.inflate_flush(c,a);p--;e|=(c.next_in[f++]&255)<<g;g+=8}if((~e>>>16&65535)!=(e&65535))return this.mode=13,c.msg="invalid stored block lengths",a=-3,this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);this.left=e&65535;e=g=0;this.mode=0!=this.left?2:0!=this.last?7:B;break;case 2:if(0==p)return this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,write=m,this.inflate_flush(c,a);if(0==
q&&(m==end&&0!=read&&(m=0,q=m<this.read?this.read-m-1:this.end-m),0==q&&(this.write=m,a=this.inflate_flush(c,a),m=this.write,q=m<this.read?this.read-m-1:this.end-m,m==this.end&&0!=this.read&&(m=0,q=m<this.read?this.read-m-1:this.end-m),0==q)))return this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);a=d;b=this.left;b>p&&(b=p);b>q&&(b=q);C(c.next_in,f,window,m,b);f+=b;p-=b;m+=b;q-=b;if(0!=(this.left-=b))break;this.mode=0!=this.last?
7:B;break;case 3:for(;14>g;){if(0!=p)a=d;else return this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);p--;e|=(c.next_in[f++]&255)<<g;g+=8}this.table=b=e&16383;if(29<(b&31)||29<(b>>5&31))return this.mode=9,c.msg="too many length or distance symbols",a=-3,this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);b=258+(b&31)+(b>>5&31);if(null==this.blens||this.blens.length<
b)this.blens=new Int32Array(b);else for(q=0;q<b;q++)this.blens[q]=0;e>>>=14;g-=14;this.index=0;mode=4;case 4:for(;this.index<4+(this.table>>>10);){for(;3>g;){if(0!=p)a=d;else return this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);p--;e|=(c.next_in[f++]&255)<<g;g+=8}this.blens[x[this.index++]]=e&7;e>>>=3;g-=3}for(;19>this.index;)this.blens[x[this.index++]]=0;this.bb[0]=7;b=this.inftree.inflate_trees_bits(this.blens,this.bb,this.tb,
this.hufts,c);if(b!=d)return a=b,-3==a&&(this.blens=null,this.mode=9),this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,write=m,this.inflate_flush(c,a);this.index=0;this.mode=5;case 5:for(;;){b=this.table;if(!(this.index<258+(b&31)+(b>>5&31)))break;for(b=this.bb[0];g<b;){if(0!=p)a=d;else return this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);p--;e|=(c.next_in[f++]&255)<<g;g+=8}b=this.hufts[3*
(this.tb[0]+(e&r[b]))+1];s=this.hufts[3*(this.tb[0]+(e&r[b]))+2];if(16>s)e>>>=b,g-=b,this.blens[this.index++]=s;else{q=18==s?7:s-14;for(k=18==s?11:3;g<b+q;){if(0!=p)a=d;else return this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);p--;e|=(c.next_in[f++]&255)<<g;g+=8}e>>>=b;g-=b;k+=e&r[q];e>>>=q;g-=q;q=this.index;b=this.table;if(q+k>258+(b&31)+(b>>5&31)||16==s&&1>q)return this.blens=null,this.mode=9,c.msg="invalid bit length repeat",
a=-3,this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);s=16==s?this.blens[q-1]:0;do this.blens[q++]=s;while(0!=--k);this.index=q}}this.tb[0]=-1;k=new Int32Array(1);s=new Int32Array(1);u=new Int32Array(1);v=new Int32Array(1);k[0]=9;s[0]=6;b=this.table;b=this.inftree.inflate_trees_dynamic(257+(b&31),1+(b>>5&31),this.blens,k,s,u,v,this.hufts,c);if(b!=d)return-3==b&&(this.blens=null,this.mode=13),a=b,this.bitb=e,this.bitk=g,c.avail_in=
p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);this.codes.init(k[0],s[0],this.hufts,u[0],this.hufts,v[0],c);this.mode=6;case 6:this.bitb=e;this.bitk=g;c.avail_in=p;c.total_in+=f-c.next_in_index;c.next_in_index=f;this.write=m;if((a=this.codes.proc(this,c,a))!=l)return this.inflate_flush(c,a);a=d;this.codes.free(c);f=c.next_in_index;p=c.avail_in;e=this.bitb;g=this.bitk;m=this.write;q=m<this.read?this.read-m-1:this.end-m;if(0==this.last){this.mode=B;break}this.mode=
7;case 7:this.write=m;a=this.inflate_flush(c,a);m=this.write;if(this.read!=this.write)return this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);mode=12;case 8:return a=l,this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a);case 9:return a=-3,this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,
a);default:return a=-2,this.bitb=e,this.bitk=g,c.avail_in=p,c.total_in+=f-c.next_in_index,c.next_in_index=f,this.write=m,this.inflate_flush(c,a)}};A.prototype.free=function(c){this.reset(c,null);this.hufts=this.window=null};A.prototype.set_dictionary=function(c,a,b){C(c,a,window,0,b);this.read=this.write=b};A.prototype.sync_point=function(){return 1==this.mode};A.prototype.inflate_flush=function(c,a){var b,e,g;e=c.next_out_index;g=this.read;b=(g<=this.write?this.write:this.end)-g;b>c.avail_out&&(b=
c.avail_out);0!=b&&a==f&&(a=d);c.avail_out-=b;c.total_out+=b;null!=this.checkfn&&(c.adler=this.check=c._adler.adler32(this.check,this.window,g,b));C(this.window,g,c.next_out,e,b);e+=b;g+=b;g==this.end&&(g=0,this.write==this.end&&(this.write=0),b=this.write-g,b>c.avail_out&&(b=c.avail_out),0!=b&&a==f&&(a=d),c.avail_out-=b,c.total_out+=b,null!=this.checkfn&&(c.adler=this.check=c._adler.adler32(this.check,this.window,g,b)),C(this.window,g,c.next_out,e,b),e+=b,g+=b);c.next_out_index=e;this.read=g;return a};
u.prototype.init=function(c,a,b,d,g,f,l){this.mode=0;this.lbits=c;this.dbits=a;this.ltree=b;this.ltree_index=d;this.dtree=g;this.dtree_index=f;this.tree=null};u.prototype.proc=function(c,a,b){var e,g,f=0,p=0,m=0,q,k,s,m=a.next_in_index;q=a.avail_in;f=c.bitb;p=c.bitk;k=c.write;for(s=k<c.read?c.read-k-1:c.end-k;;)switch(this.mode){case 0:if(258<=s&&10<=q&&(c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=m-a.next_in_index,a.next_in_index=m,c.write=k,b=this.inflate_fast(this.lbits,this.dbits,this.ltree,this.ltree_index,
this.dtree,this.dtree_index,c,a),m=a.next_in_index,q=a.avail_in,f=c.bitb,p=c.bitk,k=c.write,s=k<c.read?c.read-k-1:c.end-k,b!=d)){this.mode=b==l?7:9;break}this.need=this.lbits;this.tree=this.ltree;this.tree_index=this.ltree_index;this.mode=1;case 1:for(e=this.need;p<e;){if(0!=q)b=d;else return c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b);q--;f|=(a.next_in[m++]&255)<<p;p+=8}e=3*(this.tree_index+(f&r[e]));f>>>=this.tree[e+1];p-=this.tree[e+
1];g=this.tree[e];if(0==g){this.lit=this.tree[e+2];this.mode=6;break}if(0!=(g&16)){this.get=g&15;this.len=this.tree[e+2];this.mode=2;break}if(0==(g&64)){this.need=g;this.tree_index=e/3+this.tree[e+2];break}if(0!=(g&32)){this.mode=7;break}this.mode=9;a.msg="invalid literal/length code";b=-3;c.bitb=f;c.bitk=p;a.avail_in=q;a.total_in+=m-a.next_in_index;a.next_in_index=m;c.write=k;return c.inflate_flush(a,b);case 2:for(e=this.get;p<e;){if(0!=q)b=d;else return c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=
m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b);q--;f|=(a.next_in[m++]&255)<<p;p+=8}this.len+=f&r[e];f>>=e;p-=e;this.need=this.dbits;this.tree=this.dtree;this.tree_index=this.dtree_index;this.mode=3;case 3:for(e=this.need;p<e;){if(0!=q)b=d;else return c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b);q--;f|=(a.next_in[m++]&255)<<p;p+=8}e=3*(this.tree_index+(f&r[e]));f>>=this.tree[e+1];p-=this.tree[e+1];g=this.tree[e];if(0!=
(g&16)){this.get=g&15;this.dist=this.tree[e+2];this.mode=4;break}if(0==(g&64)){this.need=g;this.tree_index=e/3+this.tree[e+2];break}this.mode=9;a.msg="invalid distance code";b=-3;c.bitb=f;c.bitk=p;a.avail_in=q;a.total_in+=m-a.next_in_index;a.next_in_index=m;c.write=k;return c.inflate_flush(a,b);case 4:for(e=this.get;p<e;){if(0!=q)b=d;else return c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b);q--;f|=(a.next_in[m++]&255)<<p;p+=8}this.dist+=
f&r[e];f>>=e;p-=e;this.mode=5;case 5:for(e=k-this.dist;0>e;)e+=c.end;for(;0!=this.len;){if(0==s&&(k==c.end&&0!=c.read&&(k=0,s=k<c.read?c.read-k-1:c.end-k),0==s&&(c.write=k,b=c.inflate_flush(a,b),k=c.write,s=k<c.read?c.read-k-1:c.end-k,k==c.end&&0!=c.read&&(k=0,s=k<c.read?c.read-k-1:c.end-k),0==s)))return c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b);c.window[k++]=c.window[e++];s--;e==c.end&&(e=0);this.len--}this.mode=0;break;case 6:if(0==
s&&(k==c.end&&0!=c.read&&(k=0,s=k<c.read?c.read-k-1:c.end-k),0==s&&(c.write=k,b=c.inflate_flush(a,b),k=c.write,s=k<c.read?c.read-k-1:c.end-k,k==c.end&&0!=c.read&&(k=0,s=k<c.read?c.read-k-1:c.end-k),0==s)))return c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b);b=d;c.window[k++]=this.lit;s--;this.mode=0;break;case 7:7<p&&(p-=8,q++,m--);c.write=k;b=c.inflate_flush(a,b);k=c.write;if(c.read!=c.write)return c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=
m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b);this.mode=8;case 8:return b=l,c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b);case 9:return b=-3,c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b);default:return b=-2,c.bitb=f,c.bitk=p,a.avail_in=q,a.total_in+=m-a.next_in_index,a.next_in_index=m,c.write=k,c.inflate_flush(a,b)}};u.prototype.free=function(a){};u.prototype.inflate_fast=
function(a,b,f,e,g,q,p,m){var k,s,u,v,t,w,y,x,A,B,G,z;w=m.next_in_index;y=m.avail_in;v=p.bitb;t=p.bitk;x=p.write;A=x<p.read?p.read-x-1:p.end-x;a=r[a];B=r[b];do{for(;20>t;)y--,v|=(m.next_in[w++]&255)<<t,t+=8;k=v&a;s=f;u=e;z=3*(u+k);if(0==(b=s[z]))v>>=s[z+1],t-=s[z+1],p.window[x++]=s[z+2],A--;else{do{v>>=s[z+1];t-=s[z+1];if(0!=(b&16)){b&=15;G=s[z+2]+(v&r[b]);v>>=b;for(t-=b;15>t;)y--,v|=(m.next_in[w++]&255)<<t,t+=8;k=v&B;s=g;u=q;z=3*(u+k);b=s[z];do if(v>>=s[z+1],t-=s[z+1],0!=(b&16)){for(b&=15;t<b;)y--,
v|=(m.next_in[w++]&255)<<t,t+=8;k=s[z+2]+(v&r[b]);v>>=b;t-=b;A-=G;if(x>=k)k=x-k,p.window[x++]=p.window[k++],p.window[x++]=p.window[k++],G-=2;else{k=x-k;do k+=p.end;while(0>k);b=p.end-k;if(G>b){G-=b;if(0<x-k&&b>x-k){do p.window[x++]=p.window[k++];while(0!=--b)}else C(p.window,k,p.window,x,b),x+=b;k=0}}do p.window[x++]=p.window[k++];while(0!=--G);break}else if(0==(b&64))k+=s[z+2],k+=v&r[b],z=3*(u+k),b=s[z];else return m.msg="invalid distance code",G=m.avail_in-y,G=t>>3<G?t>>3:G,y+=G,w-=G,t-=G<<3,p.bitb=
v,p.bitk=t,m.avail_in=y,m.total_in+=w-m.next_in_index,m.next_in_index=w,p.write=x,-3;while(1);break}if(0==(b&64)){if(k+=s[z+2],k+=v&r[b],z=3*(u+k),0==(b=s[z])){v>>=s[z+1];t-=s[z+1];p.window[x++]=s[z+2];A--;break}}else{if(0!=(b&32))return G=m.avail_in-y,G=t>>3<G?t>>3:G,y+=G,w-=G,t-=G<<3,p.bitb=v,p.bitk=t,m.avail_in=y,m.total_in+=w-m.next_in_index,m.next_in_index=w,p.write=x,l;m.msg="invalid literal/length code";G=m.avail_in-y;G=t>>3<G?t>>3:G;y+=G;w-=G;t-=G<<3;p.bitb=v;p.bitk=t;m.avail_in=y;m.total_in+=
w-m.next_in_index;m.next_in_index=w;p.write=x;return-3}}while(1)}}while(258<=A&&10<=y);G=m.avail_in-y;G=t>>3<G?t>>3:G;w-=G;p.bitb=v;p.bitk=t-(G<<3);m.avail_in=y+G;m.total_in+=w-m.next_in_index;m.next_in_index=w;p.write=x;return d};H.prototype.huft_build=function(c,b,h,e,g,k,l,m,q,r,s){var v,t,u,w,y,x,z,A,B;x=0;t=h;do this.c[c[b+x]]++,x++,t--;while(0!=t);if(this.c[0]==h)return l[0]=-1,m[0]=0,d;y=m[0];for(u=1;15>=u&&0==this.c[u];u++);w=u;y<u&&(y=u);for(t=15;0!=t&&0==this.c[t];t--);r=t;y>t&&(y=t);m[0]=
y;for(m=1<<u;u<t;u++,m<<=1)if(0>(m-=this.c[u]))return-3;if(0>(m-=this.c[t]))return-3;this.c[t]+=m;this.x[1]=u=0;x=1;for(z=2;0!=--t;)this.x[z]=u+=this.c[x],z++,x++;x=t=0;do 0!=(u=c[b+x])&&(this.v[this.x[u]++]=t),x++;while(++t<h);h=this.x[r];x=this.x[0]=t=0;b=-1;A=-y;for(B=z=this.u[0]=0;w<=r;w++)for(c=this.c[w];0!=c--;){for(;w>A+y;){b++;A+=y;B=r-A;B=B>y?y:B;if((v=1<<(u=w-A))>c+1&&(v-=c+1,z=w,u<B))for(;++u<B&&!((v<<=1)<=this.c[++z]);)v-=this.c[z];B=1<<u;if(this.hn[0]+B>a)return-3;this.u[b]=z=this.hn[0];
this.hn[0]+=B;0!=b?(this.x[b]=t,this.r[0]=u,this.r[1]=y,u=t>>>A-y,this.r[2]=z-this.u[b-1]-u,C(this.r,0,q,3*(this.u[b-1]+u),3)):l[0]=z}this.r[1]=w-A;x>=h?this.r[0]=192:s[x]<e?(this.r[0]=256>this.v[x]?0:96,this.r[2]=this.v[x++]):(this.r[0]=k[this.v[x]-e]+16+64,this.r[2]=g[this.v[x++]-e]);v=1<<w-A;for(u=t>>>A;u<B;u+=v)C(this.r,0,q,3*(z+u),3);for(u=1<<w-1;0!=(t&u);u>>>=1)t^=u;t^=u;for(u=(1<<A)-1;(t&u)!=this.x[b];)b--,A-=y,u=(1<<A)-1}return 0!=m&&1!=r?f:d};H.prototype.inflate_trees_bits=function(a,b,d,
e,g){this.initWorkArea(19);this.hn[0]=0;a=this.huft_build(a,0,19,19,null,null,d,b,e,this.hn,this.v);if(-3==a)g.msg="oversubscribed dynamic bit lengths tree";else if(a==f||0==b[0])g.msg="incomplete dynamic bit lengths tree",a=-3;return a};H.prototype.inflate_trees_dynamic=function(a,b,h,e,g,k,l,m,q){this.initWorkArea(288);this.hn[0]=0;k=this.huft_build(h,0,a,257,Q,t,k,e,m,this.hn,this.v);if(k!=d||0==e[0])return-3==k?q.msg="oversubscribed literal/length tree":-4!=k&&(q.msg="incomplete literal/length tree",
k=-3),k;this.initWorkArea(288);k=this.huft_build(h,a,b,0,I,v,l,g,m,this.hn,this.v);return k!=d||0==g[0]&&257<a?(-3==k?q.msg="oversubscribed distance tree":k==f?(q.msg="incomplete distance tree",k=-3):-4!=k&&(q.msg="empty distance tree with lengths",k=-3),k):d};H.prototype.initWorkArea=function(a){null==this.hn&&(this.hn=new Int32Array(1),this.v=new Int32Array(a),this.c=new Int32Array(16),this.r=new Int32Array(3),this.u=new Int32Array(15),this.x=new Int32Array(16));this.v.length<a&&(this.v=new Int32Array(a));
for(var b=0;b<a;b++)this.v[b]=0;for(b=0;16>b;b++)this.c[b]=0;for(b=0;3>b;b++)this.r[b]=0;C(this.c,0,this.u,0,15);C(this.c,0,this.x,0,16)};var k="function"===typeof(new Uint8Array(1)).subarray;"undefined"!==typeof J&&(J.exports={inflateBuffer:z,arrayCopy:C})},{}]},{},[6]);
